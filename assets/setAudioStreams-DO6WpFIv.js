import{p as v,N as u,n as s,f as g,a as y,s as n}from"./index-wmVoKqK-.js";function P(l,x=!1,h=!1){const d=n.player.codec,p=l.length;let r=-1;if(!p){v(h?"Turn on HLS to listen to LiveStreams!":"No Audio Streams Found."),u.classList.replace(u.className,"ri-stop-circle-fill");return}function m(e){const a=y("proxyViaInvidious")==="false",t=x||y("enforceProxy");if(a&&t)return e;const o=new URL(e);if(n.api.invidious.includes(o.origin)&&t)return e;const c=n.api.invidious[n.api.index],i=t?c:`https://${o.searchParams.get("host")}`;return e.replace(o.origin,i)}s.innerHTML="",l.forEach((e,a)=>{var i;const t=e.codec==="opus"?"opus":"aac",o=(parseInt(e.contentLength)/(1024*1024)).toFixed(2)+" MB";s.add(new Option(`${e.quality} ${t} - ${o}`,m(e.url))),((i=s)==null?void 0:i.lastElementChild).dataset.type=e.mimeType;const f=d?t===d:!0,c=n.player.hq?p:0;f&&r<c&&(r=a)}),s.selectedIndex=r,g.src=s.value}export{P as setAudioStreams};
