function ct(ot,ft){for(var X=0;X<ft.length;X++){const b=ft[X];if(typeof b!="string"&&!Array.isArray(b)){for(const U in b)if(U!=="default"&&!(U in ot)){const j=Object.getOwnPropertyDescriptor(b,U);j&&Object.defineProperty(ot,U,j.get?j:{enumerable:!0,get:()=>b[U]})}}}return Object.freeze(Object.defineProperty(ot,Symbol.toStringTag,{value:"Module"}))}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(ot){return ot&&ot.__esModule&&Object.prototype.hasOwnProperty.call(ot,"default")?ot.default:ot}function at(ot){throw new Error('Could not dynamically require "'+ot+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ht={exports:{}};/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource>  safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource>  http://mths.be/fromcodepoint v0.1.0 by @mathias */(function(ot,ft){var X=X||{};X.scope={},X.ASSUME_ES5=!1,X.ASSUME_NO_NATIVE_MAP=!1,X.ASSUME_NO_NATIVE_SET=!1,X.defineProperty=X.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(b,U,j){b!=Array.prototype&&b!=Object.prototype&&(b[U]=j.value)},X.getGlobal=function(b){return typeof window<"u"&&window===b?b:typeof st<"u"&&st!=null?st:b},X.global=X.getGlobal(st),X.polyfill=function(b,U,j,N){if(U){for(j=X.global,b=b.split("."),N=0;N<b.length-1;N++){var w=b[N];w in j||(j[w]={}),j=j[w]}b=b[b.length-1],N=j[b],U=U(N),U!=N&&U!=null&&X.defineProperty(j,b,{configurable:!0,writable:!0,value:U})}},X.polyfill("Array.prototype.fill",function(b){return b||function(U,j,N){var w=this.length||0;for(0>j&&(j=Math.max(0,w+j)),(N==null||N>w)&&(N=w),N=Number(N),0>N&&(N=Math.max(0,w+N)),j=Number(j||0);j<N;j++)this[j]=U;return this}},"es6","es3"),X.polyfill("Number.isNaN",function(b){return b||function(U){return typeof U=="number"&&isNaN(U)}},"es6","es3"),X.SYMBOL_PREFIX="jscomp_symbol_",X.initSymbol=function(){X.initSymbol=function(){},X.global.Symbol||(X.global.Symbol=X.Symbol)},X.Symbol=function(){var b=0;return function(U){return X.SYMBOL_PREFIX+(U||"")+b++}}(),X.initSymbolIterator=function(){X.initSymbol();var b=X.global.Symbol.iterator;b||(b=X.global.Symbol.iterator=X.global.Symbol("iterator")),typeof Array.prototype[b]!="function"&&X.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return X.arrayIterator(this)}}),X.initSymbolIterator=function(){}},X.initSymbolAsyncIterator=function(){X.initSymbol();var b=X.global.Symbol.asyncIterator;b||(b=X.global.Symbol.asyncIterator=X.global.Symbol("asyncIterator")),X.initSymbolAsyncIterator=function(){}},X.arrayIterator=function(b){var U=0;return X.iteratorPrototype(function(){return U<b.length?{done:!1,value:b[U++]}:{done:!0}})},X.iteratorPrototype=function(b){return X.initSymbolIterator(),b={next:b},b[X.global.Symbol.iterator]=function(){return this},b},X.iteratorFromArray=function(b,U){X.initSymbolIterator(),b instanceof String&&(b+="");var j=0,N={next:function(){if(j<b.length){var w=j++;return{value:U(w,b[w]),done:!1}}return N.next=function(){return{done:!0,value:void 0}},N.next()}};return N[Symbol.iterator]=function(){return N},N},X.polyfill("Array.prototype.keys",function(b){return b||function(){return X.iteratorFromArray(this,function(U){return U})}},"es6","es3"),X.makeIterator=function(b){X.initSymbolIterator();var U=b[Symbol.iterator];return U?U.call(b):X.arrayIterator(b)},X.FORCE_POLYFILL_PROMISE=!1,X.polyfill("Promise",function(b){function U(){this.batch_=null}function j(T){return T instanceof w?T:new w(function(h,v){h(T)})}if(b&&!X.FORCE_POLYFILL_PROMISE)return b;U.prototype.asyncExecute=function(T){return this.batch_==null&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(T),this},U.prototype.asyncExecuteBatch_=function(){var T=this;this.asyncExecuteFunction(function(){T.executeBatch_()})};var N=X.global.setTimeout;U.prototype.asyncExecuteFunction=function(T){N(T,0)},U.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var T=this.batch_;this.batch_=[];for(var h=0;h<T.length;++h){var v=T[h];T[h]=null;try{v()}catch(r){this.asyncThrow_(r)}}}this.batch_=null},U.prototype.asyncThrow_=function(T){this.asyncExecuteFunction(function(){throw T})};var w=function(T){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var h=this.createResolveAndReject_();try{T(h.resolve,h.reject)}catch(v){h.reject(v)}};w.prototype.createResolveAndReject_=function(){function T(r){return function(c){v||(v=!0,r.call(h,c))}}var h=this,v=!1;return{resolve:T(this.resolveTo_),reject:T(this.reject_)}},w.prototype.resolveTo_=function(T){if(T===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(T instanceof w)this.settleSameAsPromise_(T);else{t:switch(typeof T){case"object":var h=T!=null;break t;case"function":h=!0;break t;default:h=!1}h?this.resolveToNonPromiseObj_(T):this.fulfill_(T)}},w.prototype.resolveToNonPromiseObj_=function(T){var h=void 0;try{h=T.then}catch(v){this.reject_(v);return}typeof h=="function"?this.settleSameAsThenable_(h,T):this.fulfill_(T)},w.prototype.reject_=function(T){this.settle_(2,T)},w.prototype.fulfill_=function(T){this.settle_(1,T)},w.prototype.settle_=function(T,h){if(this.state_!=0)throw Error("Cannot settle("+T+", "+h+"): Promise already settled in state"+this.state_);this.state_=T,this.result_=h,this.executeOnSettledCallbacks_()},w.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var T=0;T<this.onSettledCallbacks_.length;++T)l.asyncExecute(this.onSettledCallbacks_[T]);this.onSettledCallbacks_=null}};var l=new U;return w.prototype.settleSameAsPromise_=function(T){var h=this.createResolveAndReject_();T.callWhenSettled_(h.resolve,h.reject)},w.prototype.settleSameAsThenable_=function(T,h){var v=this.createResolveAndReject_();try{T.call(h,v.resolve,v.reject)}catch(r){v.reject(r)}},w.prototype.then=function(T,h){function v(s,_){return typeof s=="function"?function(y){try{r(s(y))}catch(M){c(M)}}:_}var r,c,p=new w(function(s,_){r=s,c=_});return this.callWhenSettled_(v(T,r),v(h,c)),p},w.prototype.catch=function(T){return this.then(void 0,T)},w.prototype.callWhenSettled_=function(T,h){function v(){switch(r.state_){case 1:T(r.result_);break;case 2:h(r.result_);break;default:throw Error("Unexpected state: "+r.state_)}}var r=this;this.onSettledCallbacks_==null?l.asyncExecute(v):this.onSettledCallbacks_.push(v)},w.resolve=j,w.reject=function(T){return new w(function(h,v){v(T)})},w.race=function(T){return new w(function(h,v){for(var r=X.makeIterator(T),c=r.next();!c.done;c=r.next())j(c.value).callWhenSettled_(h,v)})},w.all=function(T){var h=X.makeIterator(T),v=h.next();return v.done?j([]):new w(function(r,c){function p(y){return function(M){s[y]=M,_--,_==0&&r(s)}}var s=[],_=0;do s.push(void 0),_++,j(v.value).callWhenSettled_(p(s.length-1),c),v=h.next();while(!v.done)})},w},"es6","es3"),X.underscoreProtoCanBeSet=function(){var b={a:!0},U={};try{return U.__proto__=b,U.a}catch{}return!1},X.setPrototypeOf=typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:X.underscoreProtoCanBeSet()?function(b,U){if(b.__proto__=U,b.__proto__!==U)throw new TypeError(b+" is not extensible");return b}:null,X.polyfill("Object.setPrototypeOf",function(b){return b||X.setPrototypeOf},"es6","es5"),X.polyfill("String.fromCodePoint",function(b){return b||function(U){for(var j="",N=0;N<arguments.length;N++){var w=Number(arguments[N]);if(0>w||1114111<w||w!==Math.floor(w))throw new RangeError("invalid_code_point "+w);65535>=w?j+=String.fromCharCode(w):(w-=65536,j+=String.fromCharCode(w>>>10&1023|55296),j+=String.fromCharCode(w&1023|56320))}return j}},"es6","es3"),X.polyfill("Object.is",function(b){return b||function(U,j){return U===j?U!==0||1/U===1/j:U!==U&&j!==j}},"es6","es3"),X.polyfill("Array.prototype.includes",function(b){return b||function(U,j){var N=this;N instanceof String&&(N=String(N));var w=N.length;for(j=j||0,0>j&&(j=Math.max(j+w,0));j<w;j++){var l=N[j];if(l===U||Object.is(l,U))return!0}return!1}},"es7","es3"),X.checkStringArgs=function(b,U,j){if(b==null)throw new TypeError("The 'this' value for String.prototype."+j+" must not be null or undefined");if(U instanceof RegExp)throw new TypeError("First argument to String.prototype."+j+" must not be a regular expression");return b+""},X.polyfill("String.prototype.includes",function(b){return b||function(U,j){return X.checkStringArgs(this,U,"includes").indexOf(U,j||0)!==-1}},"es6","es3"),X.polyfill("Math.sign",function(b){return b||function(U){return U=Number(U),U===0||isNaN(U)?U:0<U?1:-1}},"es6","es3"),function(b){ot.exports=b()}(function(){return function(){function b(U,j,N){function w(h,v){if(!j[h]){if(!U[h]){var r=typeof at=="function"&&at;if(!v&&r)return r(h,!0);if(l)return l(h,!0);throw v=Error("Cannot find module '"+h+"'"),v.code="MODULE_NOT_FOUND",v}v=j[h]={exports:{}},U[h][0].call(v.exports,function(c){return w(U[h][1][c]||c)},v,v.exports,b,U,j,N)}return j[h].exports}for(var l=typeof at=="function"&&at,T=0;T<N.length;T++)w(N[T]);return w}return b}()({1:[function(b,U,j){function N(v){var r=v.length;if(0<r%4)throw Error("Invalid string. Length must be a multiple of 4");return v=v.indexOf("="),v===-1&&(v=r),[v,v===r?0:4-v%4]}function w(v,r,c){for(var p=[],s=r;s<c;s+=3)r=(v[s]<<16&16711680)+(v[s+1]<<8&65280)+(v[s+2]&255),p.push(l[r>>18&63]+l[r>>12&63]+l[r>>6&63]+l[r&63]);return p.join("")}j.byteLength=function(v){v=N(v);var r=v[1];return 3*(v[0]+r)/4-r},j.toByteArray=function(v){var r=N(v),c=r[0];r=r[1];var p=new h(3*(c+r)/4-r),s=0,_=0<r?c-4:c,y;for(y=0;y<_;y+=4)c=T[v.charCodeAt(y)]<<18|T[v.charCodeAt(y+1)]<<12|T[v.charCodeAt(y+2)]<<6|T[v.charCodeAt(y+3)],p[s++]=c>>16&255,p[s++]=c>>8&255,p[s++]=c&255;return r===2&&(c=T[v.charCodeAt(y)]<<2|T[v.charCodeAt(y+1)]>>4,p[s++]=c&255),r===1&&(c=T[v.charCodeAt(y)]<<10|T[v.charCodeAt(y+1)]<<4|T[v.charCodeAt(y+2)]>>2,p[s++]=c>>8&255,p[s++]=c&255),p},j.fromByteArray=function(v){for(var r=v.length,c=r%3,p=[],s=0,_=r-c;s<_;s+=16383)p.push(w(v,s,s+16383>_?_:s+16383));return c===1?(v=v[r-1],p.push(l[v>>2]+l[v<<4&63]+"==")):c===2&&(v=(v[r-2]<<8)+v[r-1],p.push(l[v>>10]+l[v>>4&63]+l[v<<2&63]+"=")),p.join("")};var l=[],T=[],h=typeof Uint8Array<"u"?Uint8Array:Array;for(b=0;64>b;++b)l[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b],T["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(b)]=b;T[45]=62,T[95]=63},{}],2:[function(b,U,j){},{}],3:[function(b,U,j){(function(N){(function(){function w(t){if(t>$)throw new RangeError('The value "'+t+'" is invalid for option "size"');return t=new Uint8Array(t),t.__proto__=l.prototype,t}function l(t,e,o){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(t)}return T(t,e,o)}function T(t,e,o){if(typeof t=="string"){var m=e;if((typeof m!="string"||m==="")&&(m="utf8"),!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);return e=s(t,m)|0,o=w(e),t=o.write(t,m),t!==e&&(o=o.slice(0,t)),o}if(ArrayBuffer.isView(t))return r(t);if(t==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer)){if(0>e||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(o||0))throw new RangeError('"length" is outside of buffer bounds');return t=e===void 0&&o===void 0?new Uint8Array(t):o===void 0?new Uint8Array(t,e):new Uint8Array(t,e,o),t.__proto__=l.prototype,t}if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(m=t.valueOf&&t.valueOf(),m!=null&&m!==t)return l.from(m,e,o);if(m=c(t))return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return l.from(t[Symbol.toPrimitive]("string"),e,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(0>t)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function v(t){return h(t),w(0>t?0:p(t)|0)}function r(t){for(var e=0>t.length?0:p(t.length)|0,o=w(e),m=0;m<e;m+=1)o[m]=t[m]&255;return o}function c(t){if(l.isBuffer(t)){var e=p(t.length)|0,o=w(e);return o.length===0||t.copy(o,0,0,e),o}if(t.length!==void 0)return(e=typeof t.length!="number")||(e=t.length,e=e!==e),e?w(0):r(t);if(t.type==="Buffer"&&Array.isArray(t.data))return r(t.data)}function p(t){if(t>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return t|0}function s(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var o=t.length,m=2<arguments.length&&arguments[2]===!0;if(!m&&o===0)return 0;for(var D=!1;;)switch(e){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return G.toByteArray(C(t)).length;default:if(D)return m?-1:B(t).length;e=(""+e).toLowerCase(),D=!0}}function _(t,e,o){var m=!1;if((e===void 0||0>e)&&(e=0),e>this.length||((o===void 0||o>this.length)&&(o=this.length),0>=o)||(o>>>=0,e>>>=0,o<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=o,o=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>o)&&(e=o),m="",o=t;o<e;++o)t=m,m=this[o],m=16>m?"0"+m.toString(16):m.toString(16),m=t+m;return m;case"utf8":case"utf-8":return E(this,e,o);case"ascii":for(t="",o=Math.min(this.length,o);e<o;++e)t+=String.fromCharCode(this[e]&127);return t;case"latin1":case"binary":for(t="",o=Math.min(this.length,o);e<o;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return e=e===0&&o===this.length?G.fromByteArray(this):G.fromByteArray(this.slice(e,o)),e;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,o),o="",t=0;t<e.length;t+=2)o+=String.fromCharCode(e[t]+256*e[t+1]);return o;default:if(m)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),m=!0}}function y(t,e,o){var m=t[e];t[e]=t[o],t[o]=m}function M(t,e,o,m,D){if(t.length===0)return-1;if(typeof o=="string"?(m=o,o=0):2147483647<o?o=2147483647:-2147483648>o&&(o=-2147483648),o=+o,o!==o&&(o=D?0:t.length-1),0>o&&(o=t.length+o),o>=t.length){if(D)return-1;o=t.length-1}else if(0>o)if(D)o=0;else return-1;if(typeof e=="string"&&(e=l.from(e,m)),l.isBuffer(e))return e.length===0?-1:I(t,e,o,m,D);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(t,e,o):Uint8Array.prototype.lastIndexOf.call(t,e,o):I(t,[e],o,m,D);throw new TypeError("val must be string, number or Buffer")}function I(t,e,o,m,D){function Y(a,n){return R===1?a[n]:a.readUInt16BE(n*R)}var R=1,z=t.length,g=e.length;if(m!==void 0&&(m=String(m).toLowerCase(),m==="ucs2"||m==="ucs-2"||m==="utf16le"||m==="utf-16le")){if(2>t.length||2>e.length)return-1;R=2,z/=2,g/=2,o/=2}if(D)for(m=-1;o<z;o++)if(Y(t,o)===Y(e,m===-1?0:o-m)){if(m===-1&&(m=o),o-m+1===g)return m*R}else m!==-1&&(o-=o-m),m=-1;else for(o+g>z&&(o=z-g);0<=o;o--){for(z=!0,m=0;m<g;m++)if(Y(t,o+m)!==Y(e,m)){z=!1;break}if(z)return o}return-1}function E(t,e,o){o=Math.min(t.length,o);for(var m=[];e<o;){var D=t[e],Y=null,R=239<D?4:223<D?3:191<D?2:1;if(e+R<=o)switch(R){case 1:128>D&&(Y=D);break;case 2:var z=t[e+1];(z&192)===128&&(D=(D&31)<<6|z&63,127<D&&(Y=D));break;case 3:z=t[e+1];var g=t[e+2];(z&192)===128&&(g&192)===128&&(D=(D&15)<<12|(z&63)<<6|g&63,2047<D&&(55296>D||57343<D)&&(Y=D));break;case 4:z=t[e+1],g=t[e+2];var a=t[e+3];(z&192)===128&&(g&192)===128&&(a&192)===128&&(D=(D&15)<<18|(z&63)<<12|(g&63)<<6|a&63,65535<D&&1114112>D&&(Y=D))}Y===null?(Y=65533,R=1):65535<Y&&(Y-=65536,m.push(Y>>>10&1023|55296),Y=56320|Y&1023),m.push(Y),e+=R}if(t=m.length,t<=et)m=String.fromCharCode.apply(String,m);else{for(o="",e=0;e<t;)o+=String.fromCharCode.apply(String,m.slice(e,e+=et));m=o}return m}function L(t,e,o){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>o)throw new RangeError("Trying to access beyond buffer length")}function i(t,e,o,m,D,Y){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>D||e<Y)throw new RangeError('"value" argument is out of bounds');if(o+m>t.length)throw new RangeError("Index out of range")}function d(t,e,o,m,D,Y){if(o+m>t.length)throw new RangeError("Index out of range");if(0>o)throw new RangeError("Index out of range")}function u(t,e,o,m,D){return e=+e,o>>>=0,D||d(t,e,o,4),V.write(t,e,o,m,23,4),o+4}function f(t,e,o,m,D){return e=+e,o>>>=0,D||d(t,e,o,8),V.write(t,e,o,m,52,8),o+8}function C(t){if(t=t.split("=")[0],t=t.trim().replace(it,""),2>t.length)return"";for(;t.length%4!==0;)t+="=";return t}function B(t,e){e=e||1/0;for(var o,m=t.length,D=null,Y=[],R=0;R<m;++R){if(o=t.charCodeAt(R),55295<o&&57344>o){if(!D){if(56319<o){-1<(e-=3)&&Y.push(239,191,189);continue}else if(R+1===m){-1<(e-=3)&&Y.push(239,191,189);continue}D=o;continue}if(56320>o){-1<(e-=3)&&Y.push(239,191,189),D=o;continue}o=(D-55296<<10|o-56320)+65536}else D&&-1<(e-=3)&&Y.push(239,191,189);if(D=null,128>o){if(0>--e)break;Y.push(o)}else if(2048>o){if(0>(e-=2))break;Y.push(o>>6|192,o&63|128)}else if(65536>o){if(0>(e-=3))break;Y.push(o>>12|224,o>>6&63|128,o&63|128)}else if(1114112>o){if(0>(e-=4))break;Y.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw Error("Invalid code point")}return Y}function W(t){for(var e=[],o=0;o<t.length;++o)e.push(t.charCodeAt(o)&255);return e}function P(t,e,o,m){for(var D=0;D<m&&!(D+o>=e.length||D>=t.length);++D)e[D+o]=t[D];return D}function H(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}var G=b("base64-js"),V=b("ieee754");j.Buffer=l,j.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},j.INSPECT_MAX_BYTES=50;var $=2147483647;j.kMaxLength=$,l.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(t,e,o){return T(t,e,o)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(t,e,o){return h(t),t=0>=t?w(t):e!==void 0?typeof o=="string"?w(t).fill(e,o):w(t).fill(e):w(t),t},l.allocUnsafe=function(t){return v(t)},l.allocUnsafeSlow=function(t){return v(t)},l.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==l.prototype},l.compare=function(t,e){if(H(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var o=t.length,m=e.length,D=0,Y=Math.min(o,m);D<Y;++D)if(t[D]!==e[D]){o=t[D],m=e[D];break}return o<m?-1:m<o?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return l.alloc(0);var o;if(e===void 0)for(o=e=0;o<t.length;++o)e+=t[o].length;e=l.allocUnsafe(e);var m=0;for(o=0;o<t.length;++o){var D=t[o];if(H(D,Uint8Array)&&(D=l.from(D)),!l.isBuffer(D))throw new TypeError('"list" argument must be an Array of Buffers');D.copy(e,m),m+=D.length}return e},l.byteLength=s,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},l.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?E(this,0,t):_.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:l.compare(this,t)===0},l.prototype.inspect=function(){var t=j.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},l.prototype.compare=function(t,e,o,m,D){if(H(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),o===void 0&&(o=t?t.length:0),m===void 0&&(m=0),D===void 0&&(D=this.length),0>e||o>t.length||0>m||D>this.length)throw new RangeError("out of range index");if(m>=D&&e>=o)return 0;if(m>=D)return-1;if(e>=o)return 1;if(e>>>=0,o>>>=0,m>>>=0,D>>>=0,this===t)return 0;var Y=D-m,R=o-e,z=Math.min(Y,R);for(m=this.slice(m,D),t=t.slice(e,o),e=0;e<z;++e)if(m[e]!==t[e]){Y=m[e],R=t[e];break}return Y<R?-1:R<Y?1:0},l.prototype.includes=function(t,e,o){return this.indexOf(t,e,o)!==-1},l.prototype.indexOf=function(t,e,o){return M(this,t,e,o,!0)},l.prototype.lastIndexOf=function(t,e,o){return M(this,t,e,o,!1)},l.prototype.write=function(t,e,o,m){if(e===void 0)m="utf8",o=this.length,e=0;else if(o===void 0&&typeof e=="string")m=e,o=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(o)?(o>>>=0,m===void 0&&(m="utf8")):(m=o,o=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var D=this.length-e;if((o===void 0||o>D)&&(o=D),0<t.length&&(0>o||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(m||(m="utf8"),D=!1;;)switch(m){case"hex":t:{for(e=Number(e)||0,m=this.length-e,o?(o=Number(o),o>m&&(o=m)):o=m,m=t.length,o>m/2&&(o=m/2),m=0;m<o;++m){if(D=parseInt(t.substr(2*m,2),16),D!==D){t=m;break t}this[e+m]=D}t=m}return t;case"utf8":case"utf-8":return P(B(t,this.length-e),this,e,o);case"ascii":return P(W(t),this,e,o);case"latin1":case"binary":return P(W(t),this,e,o);case"base64":return P(G.toByteArray(C(t)),this,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=t,D=this.length-e;for(var Y=[],R=0;R<m.length&&!(0>(D-=2));++R){var z=m.charCodeAt(R);t=z>>8,z%=256,Y.push(z),Y.push(t)}return P(Y,this,e,o);default:if(D)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),D=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var et=4096;l.prototype.slice=function(t,e){var o=this.length;return t=~~t,e=e===void 0?o:~~e,0>t?(t+=o,0>t&&(t=0)):t>o&&(t=o),0>e?(e+=o,0>e&&(e=0)):e>o&&(e=o),e<t&&(e=t),t=this.subarray(t,e),t.__proto__=l.prototype,t},l.prototype.readUIntLE=function(t,e,o){t>>>=0,e>>>=0,o||L(t,e,this.length),o=this[t];for(var m=1,D=0;++D<e&&(m*=256);)o+=this[t+D]*m;return o},l.prototype.readUIntBE=function(t,e,o){t>>>=0,e>>>=0,o||L(t,e,this.length),o=this[t+--e];for(var m=1;0<e&&(m*=256);)o+=this[t+--e]*m;return o},l.prototype.readUInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,o){t>>>=0,e>>>=0,o||L(t,e,this.length),o=this[t];for(var m=1,D=0;++D<e&&(m*=256);)o+=this[t+D]*m;return o>=128*m&&(o-=Math.pow(2,8*e)),o},l.prototype.readIntBE=function(t,e,o){t>>>=0,e>>>=0,o||L(t,e,this.length),o=e;for(var m=1,D=this[t+--o];0<o&&(m*=256);)D+=this[t+--o]*m;return D>=128*m&&(D-=Math.pow(2,8*e)),D},l.prototype.readInt8=function(t,e){return t>>>=0,e||L(t,1,this.length),this[t]&128?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){return t>>>=0,e||L(t,2,this.length),t=this[t]|this[t+1]<<8,t&32768?t|4294901760:t},l.prototype.readInt16BE=function(t,e){return t>>>=0,e||L(t,2,this.length),t=this[t+1]|this[t]<<8,t&32768?t|4294901760:t},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return t>>>=0,e||L(t,4,this.length),V.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||L(t,4,this.length),V.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||L(t,8,this.length),V.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||L(t,8,this.length),V.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,o,m){t=+t,e>>>=0,o>>>=0,m||i(this,t,e,o,Math.pow(2,8*o)-1,0),m=1;var D=0;for(this[e]=t&255;++D<o&&(m*=256);)this[e+D]=t/m&255;return e+o},l.prototype.writeUIntBE=function(t,e,o,m){t=+t,e>>>=0,o>>>=0,m||i(this,t,e,o,Math.pow(2,8*o)-1,0),m=o-1;var D=1;for(this[e+m]=t&255;0<=--m&&(D*=256);)this[e+m]=t/D&255;return e+o},l.prototype.writeUInt8=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,1,255,0),this[e]=t&255,e+1},l.prototype.writeUInt16LE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},l.prototype.writeUInt16BE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},l.prototype.writeUInt32LE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},l.prototype.writeUInt32BE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},l.prototype.writeIntLE=function(t,e,o,m){t=+t,e>>>=0,m||(m=Math.pow(2,8*o-1),i(this,t,e,o,m-1,-m)),m=0;var D=1,Y=0;for(this[e]=t&255;++m<o&&(D*=256);)0>t&&Y===0&&this[e+m-1]!==0&&(Y=1),this[e+m]=(t/D>>0)-Y&255;return e+o},l.prototype.writeIntBE=function(t,e,o,m){t=+t,e>>>=0,m||(m=Math.pow(2,8*o-1),i(this,t,e,o,m-1,-m)),m=o-1;var D=1,Y=0;for(this[e+m]=t&255;0<=--m&&(D*=256);)0>t&&Y===0&&this[e+m+1]!==0&&(Y=1),this[e+m]=(t/D>>0)-Y&255;return e+o},l.prototype.writeInt8=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,1,127,-128),0>t&&(t=255+t+1),this[e]=t&255,e+1},l.prototype.writeInt16LE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},l.prototype.writeInt32LE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,o){return t=+t,e>>>=0,o||i(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},l.prototype.writeFloatLE=function(t,e,o){return u(this,t,e,!0,o)},l.prototype.writeFloatBE=function(t,e,o){return u(this,t,e,!1,o)},l.prototype.writeDoubleLE=function(t,e,o){return f(this,t,e,!0,o)},l.prototype.writeDoubleBE=function(t,e,o){return f(this,t,e,!1,o)},l.prototype.copy=function(t,e,o,m){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(o||(o=0),m||m===0||(m=this.length),e>=t.length&&(e=t.length),e||(e=0),0<m&&m<o&&(m=o),m===o||t.length===0||this.length===0)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>o||o>=this.length)throw new RangeError("Index out of range");if(0>m)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),t.length-e<m-o&&(m=t.length-e+o);var D=m-o;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,o,m);else if(this===t&&o<e&&e<m)for(m=D-1;0<=m;--m)t[m+e]=this[m+o];else Uint8Array.prototype.set.call(t,this.subarray(o,m),e);return D},l.prototype.fill=function(t,e,o,m){if(typeof t=="string"){if(typeof e=="string"?(m=e,e=0,o=this.length):typeof o=="string"&&(m=o,o=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(t.length===1){var D=t.charCodeAt(0);(m==="utf8"&&128>D||m==="latin1")&&(t=D)}}else typeof t=="number"&&(t&=255);if(0>e||this.length<e||this.length<o)throw new RangeError("Out of range index");if(o<=e)return this;if(e>>>=0,o=o===void 0?this.length:o>>>0,t||(t=0),typeof t=="number")for(m=e;m<o;++m)this[m]=t;else{D=l.isBuffer(t)?t:l.from(t,m);var Y=D.length;if(Y===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(m=0;m<o-e;++m)this[m+e]=D[m%Y]}return this};var it=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,b("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:20}],4:[function(b,U,j){function N(){N.init.call(this)}function w(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}function l(E,L,i,d){w(i);var u=E._events;if(u===void 0)u=E._events=Object.create(null),E._eventsCount=0;else{u.newListener!==void 0&&(E.emit("newListener",L,i.listener?i.listener:i),u=E._events);var f=u[L]}return f===void 0?(u[L]=i,++E._eventsCount):(typeof f=="function"?f=u[L]=d?[i,f]:[f,i]:d?f.unshift(i):f.push(i),i=E._maxListeners===void 0?N.defaultMaxListeners:E._maxListeners,0<i&&f.length>i&&!f.warned&&(f.warned=!0,i=Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit"),i.name="MaxListenersExceededWarning",i.emitter=E,i.type=L,i.count=f.length,console&&console.warn&&console.warn(i))),E}function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(E,L,i){return E={fired:!1,wrapFn:void 0,target:E,type:L,listener:i},L=T.bind(E),L.listener=i,E.wrapFn=L}function v(E,L,i){if(E=E._events,E===void 0)return[];if(L=E[L],L===void 0)return[];if(typeof L=="function")return i?[L.listener||L]:[L];if(i)for(i=Array(L.length),E=0;E<i.length;++E)i[E]=L[E].listener||L[E];else i=c(L,L.length);return i}function r(E){var L=this._events;if(L!==void 0){if(E=L[E],typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}function c(E,L){for(var i=Array(L),d=0;d<L;++d)i[d]=E[d];return i}function p(E,L,i){typeof E.on=="function"&&s(E,"error",L,i)}function s(E,L,i,d){if(typeof E.on=="function")d.once?E.once(L,i):E.on(L,i);else if(typeof E.addEventListener=="function")E.addEventListener(L,function u(f){d.once&&E.removeEventListener(L,u),i(f)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}var _=(b=typeof Reflect=="object"?Reflect:null)&&typeof b.apply=="function"?b.apply:function(E,L,i){return Function.prototype.apply.call(E,L,i)},y=b&&typeof b.ownKeys=="function"?b.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)},M=Number.isNaN||function(E){return E!==E};U.exports=N,U.exports.once=function(E,L){return new Promise(function(i,d){function u(C){E.removeListener(L,f),d(C)}function f(){typeof E.removeListener=="function"&&E.removeListener("error",u),i([].slice.call(arguments))}s(E,L,f,{once:!0}),L!=="error"&&p(E,u,{once:!0})})},N.EventEmitter=N,N.prototype._events=void 0,N.prototype._eventsCount=0,N.prototype._maxListeners=void 0;var I=10;Object.defineProperty(N,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(E){if(typeof E!="number"||0>E||M(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");I=E}}),N.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},N.prototype.setMaxListeners=function(E){if(typeof E!="number"||0>E||M(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},N.prototype.getMaxListeners=function(){return this._maxListeners===void 0?N.defaultMaxListeners:this._maxListeners},N.prototype.emit=function(E){for(var L=[],i=1;i<arguments.length;i++)L.push(arguments[i]);i=E==="error";var d=this._events;if(d!==void 0)i=i&&d.error===void 0;else if(!i)return!1;if(i){var u;throw 0<L.length&&(u=L[0]),u instanceof Error?u:(L=Error("Unhandled error."+(u?" ("+u.message+")":"")),L.context=u,L)}if(i=d[E],i===void 0)return!1;if(typeof i=="function")_(i,this,L);else for(u=i.length,d=c(i,u),i=0;i<u;++i)_(d[i],this,L);return!0},N.prototype.addListener=function(E,L){return l(this,E,L,!1)},N.prototype.on=N.prototype.addListener,N.prototype.prependListener=function(E,L){return l(this,E,L,!0)},N.prototype.once=function(E,L){return w(L),this.on(E,h(this,E,L)),this},N.prototype.prependOnceListener=function(E,L){return w(L),this.prependListener(E,h(this,E,L)),this},N.prototype.removeListener=function(E,L){var i;w(L);var d=this._events;if(d===void 0)return this;var u=d[E];if(u===void 0)return this;if(u===L||u.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete d[E],d.removeListener&&this.emit("removeListener",E,u.listener||L));else if(typeof u!="function"){var f=-1;for(i=u.length-1;0<=i;i--)if(u[i]===L||u[i].listener===L){var C=u[i].listener;f=i;break}if(0>f)return this;if(f===0)u.shift();else{for(;f+1<u.length;f++)u[f]=u[f+1];u.pop()}u.length===1&&(d[E]=u[0]),d.removeListener!==void 0&&this.emit("removeListener",E,C||L)}return this},N.prototype.off=N.prototype.removeListener,N.prototype.removeAllListeners=function(E){var L=this._events;if(L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[E]),this;if(arguments.length===0){var i=Object.keys(L);for(L=0;L<i.length;++L){var d=i[L];d!=="removeListener"&&this.removeAllListeners(d)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=L[E],typeof i=="function")this.removeListener(E,i);else if(i!==void 0)for(L=i.length-1;0<=L;L--)this.removeListener(E,i[L]);return this},N.prototype.listeners=function(E){return v(this,E,!0)},N.prototype.rawListeners=function(E){return v(this,E,!1)},N.listenerCount=function(E,L){return typeof E.listenerCount=="function"?E.listenerCount(L):r.call(E,L)},N.prototype.listenerCount=r,N.prototype.eventNames=function(){return 0<this._eventsCount?y(this._events):[]}},{}],5:[function(b,U,j){function N(){w.call(this)}U.exports=N;var w=b("events").EventEmitter;b("inherits")(N,w),N.Readable=b("readable-stream/lib/_stream_readable.js"),N.Writable=b("readable-stream/lib/_stream_writable.js"),N.Duplex=b("readable-stream/lib/_stream_duplex.js"),N.Transform=b("readable-stream/lib/_stream_transform.js"),N.PassThrough=b("readable-stream/lib/_stream_passthrough.js"),N.finished=b("readable-stream/lib/internal/streams/end-of-stream.js"),N.pipeline=b("readable-stream/lib/internal/streams/pipeline.js"),N.Stream=N,N.prototype.pipe=function(l,T){function h(M){l.writable&&l.write(M)===!1&&_.pause&&_.pause()}function v(){_.readable&&_.resume&&_.resume()}function r(){y||(y=!0,l.end())}function c(){y||(y=!0,typeof l.destroy=="function"&&l.destroy())}function p(M){if(s(),w.listenerCount(this,"error")===0)throw M}function s(){_.removeListener("data",h),l.removeListener("drain",v),_.removeListener("end",r),_.removeListener("close",c),_.removeListener("error",p),l.removeListener("error",p),_.removeListener("end",s),_.removeListener("close",s),l.removeListener("close",s)}var _=this;_.on("data",h),l.on("drain",v),l._isStdio||T&&T.end===!1||(_.on("end",r),_.on("close",c));var y=!1;return _.on("error",p),l.on("error",p),_.on("end",s),_.on("close",s),l.on("close",s),l.emit("pipe",_),l}},{events:4,inherits:21,"readable-stream/lib/_stream_duplex.js":7,"readable-stream/lib/_stream_passthrough.js":8,"readable-stream/lib/_stream_readable.js":9,"readable-stream/lib/_stream_transform.js":10,"readable-stream/lib/_stream_writable.js":11,"readable-stream/lib/internal/streams/end-of-stream.js":15,"readable-stream/lib/internal/streams/pipeline.js":17}],6:[function(b,U,j){function N(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,h.__proto__=v}function w(h,v,r){r||(r=Error);var c=function(p){function s(_,y,M){return p.call(this,typeof v=="string"?v:v(_,y,M))||this}return N(s,p),s}(r);c.prototype.name=r.name,c.prototype.code=h,T[h]=c}function l(h,v){if(Array.isArray(h)){var r=h.length;return h=h.map(function(c){return String(c)}),2<r?"one of ".concat(v," ").concat(h.slice(0,r-1).join(", "),", or ")+h[r-1]:r===2?"one of ".concat(v," ").concat(h[0]," or ").concat(h[1]):"of ".concat(v," ").concat(h[0])}return"of ".concat(v," ").concat(String(h))}var T={};w("ERR_INVALID_OPT_VALUE",function(h,v){return'The value "'+v+'" is invalid for option "'+h+'"'},TypeError),w("ERR_INVALID_ARG_TYPE",function(h,v,r){var c;(c=typeof v=="string")&&(c=v.substr(0,4)==="not "),c?(c="must not be",v=v.replace(/^not /,"")):c="must be";var p=void 0;return(p===void 0||p>h.length)&&(p=h.length),h.substring(p-9,p)===" argument"?h="The ".concat(h," ").concat(c," ").concat(l(v,"type")):(p=void 0,typeof p!="number"&&(p=0),p=p+1>h.length?!1:h.indexOf(".",p)!==-1,p=p?"property":"argument",h='The "'.concat(h,'" ').concat(p," ").concat(c," ").concat(l(v,"type"))),h+=". Received type ".concat(typeof r)},TypeError),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),w("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),w("ERR_STREAM_PREMATURE_CLOSE","Premature close"),w("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),w("ERR_STREAM_WRITE_AFTER_END","write after end"),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),U.exports.codes=T},{}],7:[function(b,U,j){(function(N){(function(){function w(s){if(!(this instanceof w))return new w(s);v.call(this,s),r.call(this,s),this.allowHalfOpen=!0,s&&(s.readable===!1&&(this.readable=!1),s.writable===!1&&(this.writable=!1),s.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||N.nextTick(T,this)}function T(s){s.end()}var h=Object.keys||function(s){var _=[],y;for(y in s)_.push(y);return _};U.exports=w;var v=b("./_stream_readable"),r=b("./_stream_writable");b("inherits")(w,v),h=h(r.prototype);for(var c=0;c<h.length;c++){var p=h[c];w.prototype[p]||(w.prototype[p]=r.prototype[p])}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=s,this._writableState.destroyed=s)}})}).call(this)}).call(this,b("_process"))},{"./_stream_readable":9,"./_stream_writable":11,_process:22,inherits:21}],8:[function(b,U,j){function N(l){if(!(this instanceof N))return new N(l);w.call(this,l)}U.exports=N;var w=b("./_stream_transform");b("inherits")(N,w),N.prototype._transform=function(l,T,h){h(null,l)}},{"./_stream_transform":10,inherits:21}],9:[function(b,U,j){(function(N,w){(function(){function l(a,n,F){if(typeof a.prependListener=="function")return a.prependListener(n,F);a._events&&a._events[n]?Array.isArray(a._events[n])?a._events[n].unshift(F):a._events[n]=[F,a._events[n]]:a.on(n,F)}function T(a,n,F){B=B||b("./_stream_duplex"),a=a||{},typeof F!="boolean"&&(F=n instanceof B),this.objectMode=!!a.objectMode,F&&(this.objectMode=this.objectMode||!!a.readableObjectMode),this.highWaterMark=et(this,a,"readableHighWaterMark",F),this.buffer=new $,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.paused=!0,this.emitClose=a.emitClose!==!1,this.autoDestroy=!!a.autoDestroy,this.destroyed=!1,this.defaultEncoding=a.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,a.encoding&&(D||(D=b("string_decoder/").StringDecoder),this.decoder=new D(a.encoding),this.encoding=a.encoding)}function h(a){if(B=B||b("./_stream_duplex"),!(this instanceof h))return new h(a);this._readableState=new T(a,this,this instanceof B),this.readable=!0,a&&(typeof a.read=="function"&&(this._read=a.read),typeof a.destroy=="function"&&(this._destroy=a.destroy)),W.call(this)}function v(a,n,F,S,A){V("readableAddChunk",n);var x=a._readableState;if(n===null)x.reading=!1,V("onEofChunk"),x.ended||(x.decoder&&(n=x.decoder.end())&&n.length&&(x.buffer.push(n),x.length+=x.objectMode?1:n.length),x.ended=!0,x.sync?p(a):(x.needReadable=!1,x.emittedReadable||(x.emittedReadable=!0,s(a))));else{if(!A){A=n;var q;P.isBuffer(A)||A instanceof H||typeof A=="string"||A===void 0||x.objectMode||(q=new t("chunk",["string","Buffer","Uint8Array"],A));var O=q}if(O)z(a,O);else if(x.objectMode||n&&0<n.length)if(typeof n=="string"||x.objectMode||Object.getPrototypeOf(n)===P.prototype||(n=P.from(n)),S)x.endEmitted?z(a,new m):r(a,x,n,!0);else if(x.ended)z(a,new e);else{if(x.destroyed)return!1;x.reading=!1,x.decoder&&!F?(n=x.decoder.write(n),x.objectMode||n.length!==0?r(a,x,n,!1):_(a,x)):r(a,x,n,!1)}else S||(x.reading=!1,_(a,x))}return!x.ended&&(x.length<x.highWaterMark||x.length===0)}function r(a,n,F,S){n.flowing&&n.length===0&&!n.sync?(n.awaitDrain=0,a.emit("data",F)):(n.length+=n.objectMode?1:F.length,S?n.buffer.unshift(F):n.buffer.push(F),n.needReadable&&p(a)),_(a,n)}function c(a,n){if(0>=a||n.length===0&&n.ended)return 0;if(n.objectMode)return 1;if(a!==a)return n.flowing&&n.length?n.buffer.head.data.length:n.length;if(a>n.highWaterMark){var F=a;1073741824<=F?F=1073741824:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),n.highWaterMark=F}return a<=n.length?a:n.ended?n.length:(n.needReadable=!0,0)}function p(a){var n=a._readableState;V("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(V("emitReadable",n.flowing),n.emittedReadable=!0,N.nextTick(s,a))}function s(a){var n=a._readableState;V("emitReadable_",n.destroyed,n.length,n.ended),n.destroyed||!n.length&&!n.ended||(a.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,i(a)}function _(a,n){n.readingMore||(n.readingMore=!0,N.nextTick(y,a,n))}function y(a,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&n.length===0);){var F=n.length;if(V("maybeReadMore read 0"),a.read(0),F===n.length)break}n.readingMore=!1}function M(a){return function(){var n=a._readableState;V("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&a.listeners("data").length&&(n.flowing=!0,i(a))}}function I(a){var n=a._readableState;n.readableListening=0<a.listenerCount("readable"),n.resumeScheduled&&!n.paused?n.flowing=!0:0<a.listenerCount("data")&&a.resume()}function E(a){V("readable nexttick read 0"),a.read(0)}function L(a,n){V("resume",n.reading),n.reading||a.read(0),n.resumeScheduled=!1,a.emit("resume"),i(a),n.flowing&&!n.reading&&a.read(0)}function i(a){var n=a._readableState;for(V("flow",n.flowing);n.flowing&&a.read()!==null;);}function d(a,n){return n.length===0?null:(n.objectMode?a=n.buffer.shift():!a||a>=n.length?(a=n.decoder?n.buffer.join(""):n.buffer.length===1?n.buffer.first():n.buffer.concat(n.length),n.buffer.clear()):a=n.buffer.consume(a,n.decoder),a)}function u(a){var n=a._readableState;V("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,N.nextTick(f,n,a))}function f(a,n){V("endReadableNT",a.endEmitted,a.length),a.endEmitted||a.length!==0||(a.endEmitted=!0,n.readable=!1,n.emit("end"),a.autoDestroy&&(a=n._writableState,(!a||a.autoDestroy&&a.finished)&&n.destroy()))}function C(a,n){for(var F=0,S=a.length;F<S;F++)if(a[F]===n)return F;return-1}U.exports=h;var B;h.ReadableState=T,b("events");var W=b("./internal/streams/stream"),P=b("buffer").Buffer,H=(typeof w<"u"?w:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=b("util"),V=G&&G.debuglog?G.debuglog("stream"):function(){},$=b("./internal/streams/buffer_list");G=b("./internal/streams/destroy");var et=b("./internal/streams/state").getHighWaterMark,it=b("../errors").codes,t=it.ERR_INVALID_ARG_TYPE,e=it.ERR_STREAM_PUSH_AFTER_EOF,o=it.ERR_METHOD_NOT_IMPLEMENTED,m=it.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,Y,R;b("inherits")(h,W);var z=G.errorOrDestroy,g=["error","close","destroy","pause","resume"];Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),h.prototype.destroy=G.destroy,h.prototype._undestroy=G.undestroy,h.prototype._destroy=function(a,n){n(a)},h.prototype.push=function(a,n){var F=this._readableState;if(F.objectMode)var S=!0;else typeof a=="string"&&(n=n||F.defaultEncoding,n!==F.encoding&&(a=P.from(a,n),n=""),S=!0);return v(this,a,n,!1,S)},h.prototype.unshift=function(a){return v(this,a,null,!0,!1)},h.prototype.isPaused=function(){return this._readableState.flowing===!1},h.prototype.setEncoding=function(a){D||(D=b("string_decoder/").StringDecoder),a=new D(a),this._readableState.decoder=a,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,F="";n!==null;)F+=a.write(n.data),n=n.next;return this._readableState.buffer.clear(),F!==""&&this._readableState.buffer.push(F),this._readableState.length=F.length,this},h.prototype.read=function(a){V("read",a),a=parseInt(a,10);var n=this._readableState,F=a;if(a!==0&&(n.emittedReadable=!1),a===0&&n.needReadable&&((n.highWaterMark!==0?n.length>=n.highWaterMark:0<n.length)||n.ended))return V("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?u(this):p(this),null;if(a=c(a,n),a===0&&n.ended)return n.length===0&&u(this),null;var S=n.needReadable;return V("need readable",S),(n.length===0||n.length-a<n.highWaterMark)&&(S=!0,V("length less than watermark",S)),n.ended||n.reading?V("reading or ended",!1):S&&(V("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(a=c(F,n))),S=0<a?d(a,n):null,S===null?(n.needReadable=n.length<=n.highWaterMark,a=0):(n.length-=a,n.awaitDrain=0),n.length===0&&(n.ended||(n.needReadable=!0),F!==a&&n.ended&&u(this)),S!==null&&this.emit("data",S),S},h.prototype._read=function(a){z(this,new o("_read()"))},h.prototype.pipe=function(a,n){function F(tt,Q){V("onunpipe"),tt===J&&Q&&Q.hasUnpiped===!1&&(Q.hasUnpiped=!0,V("cleanup"),a.removeListener("close",q),a.removeListener("finish",O),a.removeListener("drain",Z),a.removeListener("error",x),a.removeListener("unpipe",F),J.removeListener("end",S),J.removeListener("end",k),J.removeListener("data",A),lt=!0,!rt.awaitDrain||a._writableState&&!a._writableState.needDrain||Z())}function S(){V("onend"),a.end()}function A(tt){V("ondata"),tt=a.write(tt),V("dest.write",tt),tt===!1&&((rt.pipesCount===1&&rt.pipes===a||1<rt.pipesCount&&C(rt.pipes,a)!==-1)&&!lt&&(V("false write response, pause",rt.awaitDrain),rt.awaitDrain++),J.pause())}function x(tt){V("onerror",tt),k(),a.removeListener("error",x),a.listeners("error").length===0&&z(a,tt)}function q(){a.removeListener("finish",O),k()}function O(){V("onfinish"),a.removeListener("close",q),k()}function k(){V("unpipe"),J.unpipe(a)}var J=this,rt=this._readableState;switch(rt.pipesCount){case 0:rt.pipes=a;break;case 1:rt.pipes=[rt.pipes,a];break;default:rt.pipes.push(a)}rt.pipesCount+=1,V("pipe count=%d opts=%j",rt.pipesCount,n),n=n&&n.end===!1||a===N.stdout||a===N.stderr?k:S,rt.endEmitted?N.nextTick(n):J.once("end",n),a.on("unpipe",F);var Z=M(J);a.on("drain",Z);var lt=!1;return J.on("data",A),l(a,"error",x),a.once("close",q),a.once("finish",O),a.emit("pipe",J),rt.flowing||(V("pipe resume"),J.resume()),a},h.prototype.unpipe=function(a){var n=this._readableState,F={hasUnpiped:!1};if(n.pipesCount===0)return this;if(n.pipesCount===1)return a&&a!==n.pipes?this:(a||(a=n.pipes),n.pipes=null,n.pipesCount=0,n.flowing=!1,a&&a.emit("unpipe",this,F),this);if(!a){for(a=n.pipes,F=n.pipesCount,n.pipes=null,n.pipesCount=0,n.flowing=!1,n=0;n<F;n++)a[n].emit("unpipe",this,{hasUnpiped:!1});return this}var S=C(n.pipes,a);return S===-1?this:(n.pipes.splice(S,1),--n.pipesCount,n.pipesCount===1&&(n.pipes=n.pipes[0]),a.emit("unpipe",this,F),this)},h.prototype.on=function(a,n){n=W.prototype.on.call(this,a,n);var F=this._readableState;return a==="data"?(F.readableListening=0<this.listenerCount("readable"),F.flowing!==!1&&this.resume()):a!=="readable"||F.endEmitted||F.readableListening||(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,V("on readable",F.length,F.reading),F.length?p(this):F.reading||N.nextTick(E,this)),n},h.prototype.addListener=h.prototype.on,h.prototype.removeListener=function(a,n){return n=W.prototype.removeListener.call(this,a,n),a==="readable"&&N.nextTick(I,this),n},h.prototype.removeAllListeners=function(a){var n=W.prototype.removeAllListeners.apply(this,arguments);return a!=="readable"&&a!==void 0||N.nextTick(I,this),n},h.prototype.resume=function(){var a=this._readableState;return a.flowing||(V("resume"),a.flowing=!a.readableListening,a.resumeScheduled||(a.resumeScheduled=!0,N.nextTick(L,this,a))),a.paused=!1,this},h.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},h.prototype.wrap=function(a){var n=this,F=this._readableState,S=!1;a.on("end",function(){if(V("wrapped end"),F.decoder&&!F.ended){var x=F.decoder.end();x&&x.length&&n.push(x)}n.push(null)}),a.on("data",function(x){V("wrapped data"),F.decoder&&(x=F.decoder.write(x)),F.objectMode&&x==null||!(F.objectMode||x&&x.length)||n.push(x)||(S=!0,a.pause())});for(var A in a)this[A]===void 0&&typeof a[A]=="function"&&(this[A]=function(x){return function(){return a[x].apply(a,arguments)}}(A));for(A=0;A<g.length;A++)a.on(g[A],this.emit.bind(this,g[A]));return this._read=function(x){V("wrapped _read",x),S&&(S=!1,a.resume())},this},typeof Symbol=="function"&&(h.prototype[Symbol.asyncIterator]=function(){return Y===void 0&&(Y=b("./internal/streams/async_iterator")),Y(this)}),Object.defineProperty(h.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(h.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(h.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(a){this._readableState&&(this._readableState.flowing=a)}}),h._fromList=d,Object.defineProperty(h.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(h.from=function(a,n){return R===void 0&&(R=b("./internal/streams/from")),R(h,a,n)})}).call(this)}).call(this,b("_process"),typeof st<"u"?st:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":6,"./_stream_duplex":7,"./internal/streams/async_iterator":12,"./internal/streams/buffer_list":13,"./internal/streams/destroy":14,"./internal/streams/from":16,"./internal/streams/state":18,"./internal/streams/stream":19,_process:22,buffer:3,events:4,inherits:21,"string_decoder/":25,util:2}],10:[function(b,U,j){function N(s,_){var y=this._transformState;y.transforming=!1;var M=y.writecb;if(M===null)return this.emit("error",new v);y.writechunk=null,y.writecb=null,_!=null&&this.push(_),M(s),s=this._readableState,s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function w(s){if(!(this instanceof w))return new w(s);p.call(this,s),this._transformState={afterTransform:N.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&(typeof s.transform=="function"&&(this._transform=s.transform),typeof s.flush=="function"&&(this._flush=s.flush)),this.on("prefinish",l)}function l(){var s=this;typeof this._flush!="function"||this._readableState.destroyed?T(this,null,null):this._flush(function(_,y){T(s,_,y)})}function T(s,_,y){if(_)return s.emit("error",_);if(y!=null&&s.push(y),s._writableState.length)throw new c;if(s._transformState.transforming)throw new r;return s.push(null)}U.exports=w,U=b("../errors").codes;var h=U.ERR_METHOD_NOT_IMPLEMENTED,v=U.ERR_MULTIPLE_CALLBACK,r=U.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=U.ERR_TRANSFORM_WITH_LENGTH_0,p=b("./_stream_duplex");b("inherits")(w,p),w.prototype.push=function(s,_){return this._transformState.needTransform=!1,p.prototype.push.call(this,s,_)},w.prototype._transform=function(s,_,y){y(new h("_transform()"))},w.prototype._write=function(s,_,y){var M=this._transformState;M.writecb=y,M.writechunk=s,M.writeencoding=_,M.transforming||(s=this._readableState,(M.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark))},w.prototype._read=function(s){s=this._transformState,s.writechunk===null||s.transforming?s.needTransform=!0:(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform))},w.prototype._destroy=function(s,_){p.prototype._destroy.call(this,s,function(y){_(y)})}},{"../errors":6,"./_stream_duplex":7,inherits:21}],11:[function(b,U,j){(function(N,w){(function(){function l(t){var e=this;this.entry=this.next=null,this.finish=function(){var o=e.entry;for(e.entry=null;o;){var m=o.callback;t.pendingcb--,m(void 0),o=o.next}t.corkedRequestsFree.next=e}}function T(){}function h(t,e,o){M=M||b("./_stream_duplex"),t=t||{},typeof o!="boolean"&&(o=e instanceof M),this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=u(this,t,"writableHighWaterMark",o),this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1,this.decodeStrings=t.decodeStrings!==!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(m){var D=e._writableState,Y=D.sync,R=D.writecb;if(typeof R!="function")throw new W;D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0,m?(--D.pendingcb,Y?(N.nextTick(R,m),N.nextTick(y,e,D),e._writableState.errorEmitted=!0,et(e,m)):(R(m),e._writableState.errorEmitted=!0,et(e,m),y(e,D))):((m=s(D)||e.destroyed)||D.corked||D.bufferProcessing||!D.bufferedRequest||p(e,D),Y?N.nextTick(c,e,D,m,R):c(e,D,m,R))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function v(t){M=M||b("./_stream_duplex");var e=this instanceof M;if(!e&&!it.call(v,this))return new v(t);this._writableState=new h(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),E.call(this)}function r(t,e,o,m,D,Y,R){e.writelen=m,e.writecb=R,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new H("write")):o?t._writev(D,e.onwrite):t._write(D,Y,e.onwrite),e.sync=!1}function c(t,e,o,m){!o&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,m(),y(t,e)}function p(t,e){e.bufferProcessing=!0;var o=e.bufferedRequest;if(t._writev&&o&&o.next){var m=Array(e.bufferedRequestCount),D=e.corkedRequestsFree;D.entry=o;for(var Y=0,R=!0;o;)m[Y]=o,o.isBuf||(R=!1),o=o.next,Y+=1;m.allBuffers=R,r(t,e,!0,e.length,m,"",D.finish),e.pendingcb++,e.lastBufferedRequest=null,D.next?(e.corkedRequestsFree=D.next,D.next=null):e.corkedRequestsFree=new l(e),e.bufferedRequestCount=0}else{for(;o&&(m=o.chunk,r(t,e,!1,e.objectMode?1:m.length,m,o.encoding,o.callback),o=o.next,e.bufferedRequestCount--,!e.writing););o===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=o,e.bufferProcessing=!1}function s(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function _(t,e){t._final(function(o){e.pendingcb--,o&&et(t,o),e.prefinished=!0,t.emit("prefinish"),y(t,e)})}function y(t,e){var o=s(e);return o&&(e.prefinished||e.finalCalled||(typeof t._final!="function"||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,N.nextTick(_,t,e))),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy&&(e=t._readableState,(!e||e.autoDestroy&&e.endEmitted)&&t.destroy()))),o}U.exports=v;var M;v.WritableState=h;var I={deprecate:b("util-deprecate")},E=b("./internal/streams/stream"),L=b("buffer").Buffer,i=(typeof w<"u"?w:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d=b("./internal/streams/destroy"),u=b("./internal/streams/state").getHighWaterMark,f=b("../errors").codes,C=f.ERR_INVALID_ARG_TYPE,B=f.ERR_METHOD_NOT_IMPLEMENTED,W=f.ERR_MULTIPLE_CALLBACK,P=f.ERR_STREAM_CANNOT_PIPE,H=f.ERR_STREAM_DESTROYED,G=f.ERR_STREAM_NULL_VALUES,V=f.ERR_STREAM_WRITE_AFTER_END,$=f.ERR_UNKNOWN_ENCODING,et=d.errorOrDestroy;if(b("inherits")(v,E),h.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(h.prototype,"buffer",{get:I.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"){var it=Function.prototype[Symbol.hasInstance];Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return it.call(this,t)?!0:this!==v?!1:t&&t._writableState instanceof h}})}else it=function(t){return t instanceof this};v.prototype.pipe=function(){et(this,new P)},v.prototype.write=function(t,e,o){var m=this._writableState,D=!1,Y;if((Y=!m.objectMode)&&(Y=t,Y=L.isBuffer(Y)||Y instanceof i),Y&&!L.isBuffer(t)&&(t=L.from(t)),typeof e=="function"&&(o=e,e=null),Y?e="buffer":e||(e=m.defaultEncoding),typeof o!="function"&&(o=T),m.ending)m=o,o=new V,et(this,o),N.nextTick(m,o);else{var R;if(!(R=Y)){R=t;var z=o,g;R===null?g=new G:typeof R=="string"||m.objectMode||(g=new C("chunk",["string","Buffer"],R)),g?(et(this,g),N.nextTick(z,g),R=!1):R=!0}R&&(m.pendingcb++,D=Y,D||(g=t,m.objectMode||m.decodeStrings===!1||typeof g!="string"||(g=L.from(g,e)),t!==g&&(D=!0,e="buffer",t=g)),Y=m.objectMode?1:t.length,m.length+=Y,g=m.length<m.highWaterMark,g||(m.needDrain=!0),m.writing||m.corked?(Y=m.lastBufferedRequest,m.lastBufferedRequest={chunk:t,encoding:e,isBuf:D,callback:o,next:null},Y?Y.next=m.lastBufferedRequest:m.bufferedRequest=m.lastBufferedRequest,m.bufferedRequestCount+=1):r(this,m,!1,Y,t,e,o),D=g)}return D},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||p(this,t))},v.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new $(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,o){o(new B("_write()"))},v.prototype._writev=null,v.prototype.end=function(t,e,o){var m=this._writableState;return typeof t=="function"?(o=t,e=t=null):typeof e=="function"&&(o=e,e=null),t!=null&&this.write(t,e),m.corked&&(m.corked=1,this.uncork()),m.ending||(t=o,m.ending=!0,y(this,m),t&&(m.finished?N.nextTick(t):this.once("finish",t)),m.ended=!0,this.writable=!1),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=d.destroy,v.prototype._undestroy=d.undestroy,v.prototype._destroy=function(t,e){e(t)}}).call(this)}).call(this,b("_process"),typeof st<"u"?st:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":6,"./_stream_duplex":7,"./internal/streams/destroy":14,"./internal/streams/state":18,"./internal/streams/stream":19,_process:22,buffer:3,inherits:21,"util-deprecate":26}],12:[function(b,U,j){(function(N){(function(){function w(d,u,f){t:if(typeof u=="object"&&u!==null){var C=u[Symbol.toPrimitive];if(C!==void 0){if(u=C.call(u,"string"),typeof u!="object")break t;throw new TypeError("@@toPrimitive must return a primitive value.")}u=String(u)}return u=typeof u=="symbol"?u:String(u),u in d?Object.defineProperty(d,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[u]=f,d}function l(d,u){return{value:d,done:u}}function T(d){var u=d[p];if(u!==null){var f=d[E].read();f!==null&&(d[M]=null,d[p]=null,d[s]=null,u(l(f,!1)))}}function h(d){N.nextTick(T,d)}function v(d,u){return function(f,C){d.then(function(){u[y]?f(l(void 0,!0)):u[I](f,C)},C)}}var r,c=b("./end-of-stream"),p=Symbol("lastResolve"),s=Symbol("lastReject"),_=Symbol("error"),y=Symbol("ended"),M=Symbol("lastPromise"),I=Symbol("handlePromise"),E=Symbol("stream"),L=Object.getPrototypeOf(function(){}),i=Object.setPrototypeOf((r={get stream(){return this[E]},next:function(){var d=this,u=this[_];if(u!==null)return Promise.reject(u);if(this[y])return Promise.resolve(l(void 0,!0));if(this[E].destroyed)return new Promise(function(f,C){N.nextTick(function(){d[_]?C(d[_]):f(l(void 0,!0))})});if(u=this[M])u=new Promise(v(u,this));else{if(u=this[E].read(),u!==null)return Promise.resolve(l(u,!1));u=new Promise(this[I])}return this[M]=u}},w(r,Symbol.asyncIterator,function(){return this}),w(r,"return",function(){var d=this;return new Promise(function(u,f){d[E].destroy(null,function(C){C?f(C):u(l(void 0,!0))})})}),r),L);U.exports=function(d){var u,f=Object.create(i,(u={},w(u,E,{value:d,writable:!0}),w(u,p,{value:null,writable:!0}),w(u,s,{value:null,writable:!0}),w(u,_,{value:null,writable:!0}),w(u,y,{value:d._readableState.endEmitted,writable:!0}),w(u,I,{value:function(C,B){var W=f[E].read();W?(f[M]=null,f[p]=null,f[s]=null,C(l(W,!1))):(f[p]=C,f[s]=B)},writable:!0}),u));return f[M]=null,c(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=f[s];B!==null&&(f[M]=null,f[p]=null,f[s]=null,B(C)),f[_]=C}else C=f[p],C!==null&&(f[M]=null,f[p]=null,f[s]=null,C(l(void 0,!0))),f[y]=!0}),d.on("readable",h.bind(null,f)),f}}).call(this)}).call(this,b("_process"))},{"./end-of-stream":15,_process:22}],13:[function(b,U,j){function N(p,s){var _=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);s&&(y=y.filter(function(M){return Object.getOwnPropertyDescriptor(p,M).enumerable})),_.push.apply(_,y)}return _}function w(p){for(var s=1;s<arguments.length;s++){var _=arguments[s]!=null?arguments[s]:{};s%2?N(Object(_),!0).forEach(function(y){var M=_[y];y=h(y),y in p?Object.defineProperty(p,y,{value:M,enumerable:!0,configurable:!0,writable:!0}):p[y]=M}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(_)):N(Object(_)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(_,y))})}return p}function l(p,s){for(var _=0;_<s.length;_++){var y=s[_];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,h(y.key),y)}}function T(p,s,_){return s&&l(p.prototype,s),Object.defineProperty(p,"prototype",{writable:!1}),p}function h(p){t:if(typeof p=="object"&&p!==null){var s=p[Symbol.toPrimitive];if(s!==void 0){if(p=s.call(p,"string"),typeof p!="object")break t;throw new TypeError("@@toPrimitive must return a primitive value.")}p=String(p)}return typeof p=="symbol"?p:String(p)}var v=b("buffer").Buffer,r=b("util").inspect,c=r&&r.custom||"inspect";U.exports=function(){function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.tail=this.head=null,this.length=0}return T(p,[{key:"push",value:function(s){s={data:s,next:null},0<this.length?this.tail.next=s:this.head=s,this.tail=s,++this.length}},{key:"unshift",value:function(s){s={data:s,next:this.head},this.length===0&&(this.tail=s),this.head=s,++this.length}},{key:"shift",value:function(){if(this.length!==0){var s=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,s}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(this.length===0)return"";for(var _=this.head,y=""+_.data;_=_.next;)y+=s+_.data;return y}},{key:"concat",value:function(s){if(this.length===0)return v.alloc(0);s=v.allocUnsafe(s>>>0);for(var _=this.head,y=0;_;)v.prototype.copy.call(_.data,s,y),y+=_.data.length,_=_.next;return s}},{key:"consume",value:function(s,_){return s<this.head.data.length?(_=this.head.data.slice(0,s),this.head.data=this.head.data.slice(s)):_=s===this.head.data.length?this.shift():_?this._getString(s):this._getBuffer(s),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(s){var _=this.head,y=1,M=_.data;for(s-=M.length;_=_.next;){var I=_.data,E=s>I.length?I.length:s;if(M=E===I.length?M+I:M+I.slice(0,s),s-=E,s===0){E===I.length?(++y,this.head=_.next?_.next:this.tail=null):(this.head=_,_.data=I.slice(E));break}++y}return this.length-=y,M}},{key:"_getBuffer",value:function(s){var _=v.allocUnsafe(s),y=this.head,M=1;for(y.data.copy(_),s-=y.data.length;y=y.next;){var I=y.data,E=s>I.length?I.length:s;if(I.copy(_,_.length-s,0,E),s-=E,s===0){E===I.length?(++M,this.head=y.next?y.next:this.tail=null):(this.head=y,y.data=I.slice(E));break}++M}return this.length-=M,_}},{key:c,value:function(s,_){return r(this,w(w({},_),{},{depth:0,customInspect:!1}))}}]),p}()},{buffer:3,util:2}],14:[function(b,U,j){(function(N){(function(){function w(h,v){T(h,v),l(h)}function l(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function T(h,v){h.emit("error",v)}U.exports={destroy:function(h,v){var r=this,c=this._writableState&&this._writableState.destroyed;return this._readableState&&this._readableState.destroyed||c?(v?v(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,N.nextTick(T,this,h)):N.nextTick(T,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(p){!v&&p?r._writableState?r._writableState.errorEmitted?N.nextTick(l,r):(r._writableState.errorEmitted=!0,N.nextTick(w,r,p)):N.nextTick(w,r,p):v?(N.nextTick(l,r),v(p)):N.nextTick(l,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(h,v){var r=h._readableState,c=h._writableState;r&&r.autoDestroy||c&&c.autoDestroy?h.destroy(v):h.emit("error",v)}}}).call(this)}).call(this,b("_process"))},{_process:22}],15:[function(b,U,j){function N(h){var v=!1;return function(){if(!v){v=!0;for(var r=arguments.length,c=Array(r),p=0;p<r;p++)c[p]=arguments[p];h.apply(this,c)}}}function w(){}function l(h,v,r){if(typeof v=="function")return l(h,null,v);v||(v={}),r=N(r||w);var c=v.readable||v.readable!==!1&&h.readable,p=v.writable||v.writable!==!1&&h.writable,s=function(){h.writable||y()},_=h._writableState&&h._writableState.finished,y=function(){p=!1,_=!0,c||r.call(h)},M=h._readableState&&h._readableState.endEmitted,I=function(){c=!1,M=!0,p||r.call(h)},E=function(d){r.call(h,d)},L=function(){var d;if(c&&!M)return h._readableState&&h._readableState.ended||(d=new T),r.call(h,d);if(p&&!_)return h._writableState&&h._writableState.ended||(d=new T),r.call(h,d)},i=function(){h.req.on("finish",y)};return h.setHeader&&typeof h.abort=="function"?(h.on("complete",y),h.on("abort",L),h.req?i():h.on("request",i)):p&&!h._writableState&&(h.on("end",s),h.on("close",s)),h.on("end",I),h.on("finish",y),v.error!==!1&&h.on("error",E),h.on("close",L),function(){h.removeListener("complete",y),h.removeListener("abort",L),h.removeListener("request",i),h.req&&h.req.removeListener("finish",y),h.removeListener("end",s),h.removeListener("close",s),h.removeListener("finish",y),h.removeListener("end",I),h.removeListener("error",E),h.removeListener("close",L)}}var T=b("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;U.exports=l},{"../../../errors":6}],16:[function(b,U,j){U.exports=function(){throw Error("Readable.from is not available in the browser")}},{}],17:[function(b,U,j){function N(p){var s=!1;return function(){s||(s=!0,p.apply(void 0,arguments))}}function w(p){if(p)throw p}function l(p,s,_,y){y=N(y);var M=!1;p.on("close",function(){M=!0}),v===void 0&&(v=b("./end-of-stream")),v(p,{readable:s,writable:_},function(E){if(E)return y(E);M=!0,y()});var I=!1;return function(E){if(!M&&!I){if(I=!0,p.setHeader&&typeof p.abort=="function")return p.abort();if(typeof p.destroy=="function")return p.destroy();y(E||new c("pipe"))}}}function T(p){p()}function h(p,s){return p.pipe(s)}var v;j=b("../../../errors").codes;var r=j.ERR_MISSING_ARGS,c=j.ERR_STREAM_DESTROYED;U.exports=function(){for(var p=arguments.length,s=Array(p),_=0;_<p;_++)s[_]=arguments[_];var y=s.length?typeof s[s.length-1]!="function"?w:s.pop():w;if(Array.isArray(s[0])&&(s=s[0]),2>s.length)throw new r("streams");var M,I=s.map(function(E,L){var i=L<s.length-1;return l(E,i,0<L,function(d){M||(M=d),d&&I.forEach(T),i||(I.forEach(T),y(M))})});return s.reduce(h)}},{"../../../errors":6,"./end-of-stream":15}],18:[function(b,U,j){var N=b("../../../errors").codes.ERR_INVALID_OPT_VALUE;U.exports={getHighWaterMark:function(w,l,T,h){if(l=l.highWaterMark!=null?l.highWaterMark:h?l[T]:null,l!=null){if(!isFinite(l)||Math.floor(l)!==l||0>l)throw new N(h?T:"highWaterMark",l);return Math.floor(l)}return w.objectMode?16:16384}}},{"../../../errors":6}],19:[function(b,U,j){U.exports=b("events").EventEmitter},{events:4}],20:[function(b,U,j){j.read=function(N,w,l,T,h){var v=8*h-T-1,r=(1<<v)-1,c=r>>1,p=-7;h=l?h-1:0;var s=l?-1:1,_=N[w+h];for(h+=s,l=_&(1<<-p)-1,_>>=-p,p+=v;0<p;l=256*l+N[w+h],h+=s,p-=8);for(v=l&(1<<-p)-1,l>>=-p,p+=T;0<p;v=256*v+N[w+h],h+=s,p-=8);if(l===0)l=1-c;else{if(l===r)return v?NaN:1/0*(_?-1:1);v+=Math.pow(2,T),l-=c}return(_?-1:1)*v*Math.pow(2,l-T)},j.write=function(N,w,l,T,h,v){var r,c=8*v-h-1,p=(1<<c)-1,s=p>>1,_=h===23?Math.pow(2,-24)-Math.pow(2,-77):0;v=T?0:v-1;var y=T?1:-1,M=0>w||w===0&&0>1/w?1:0;for(w=Math.abs(w),isNaN(w)||w===1/0?(w=isNaN(w)?1:0,T=p):(T=Math.floor(Math.log(w)/Math.LN2),1>w*(r=Math.pow(2,-T))&&(T--,r*=2),w=1<=T+s?w+_/r:w+_*Math.pow(2,1-s),2<=w*r&&(T++,r/=2),T+s>=p?(w=0,T=p):1<=T+s?(w=(w*r-1)*Math.pow(2,h),T+=s):(w=w*Math.pow(2,s-1)*Math.pow(2,h),T=0));8<=h;N[l+v]=w&255,v+=y,w/=256,h-=8);for(T=T<<h|w,c+=h;0<c;N[l+v]=T&255,v+=y,T/=256,c-=8);N[l+v-y]|=128*M}},{}],21:[function(b,U,j){U.exports=typeof Object.create=="function"?function(N,w){w&&(N.super_=w,N.prototype=Object.create(w.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}))}:function(N,w){if(w){N.super_=w;var l=function(){};l.prototype=w.prototype,N.prototype=new l,N.prototype.constructor=N}}},{}],22:[function(b,U,j){function N(){throw Error("setTimeout has not been defined")}function w(){throw Error("clearTimeout has not been defined")}function l(E){if(p===setTimeout)return setTimeout(E,0);if((p===N||!p)&&setTimeout)return p=setTimeout,setTimeout(E,0);try{return p(E,0)}catch{try{return p.call(null,E,0)}catch{return p.call(this,E,0)}}}function T(E){if(s===clearTimeout)return clearTimeout(E);if((s===w||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(E);try{return s(E)}catch{try{return s.call(null,E)}catch{return s.call(this,E)}}}function h(){y&&M&&(y=!1,M.length?_=M.concat(_):I=-1,_.length&&v())}function v(){if(!y){var E=l(h);y=!0;for(var L=_.length;L;){for(M=_,_=[];++I<L;)M&&M[I].run();I=-1,L=_.length}M=null,y=!1,T(E)}}function r(E,L){this.fun=E,this.array=L}function c(){}b=U.exports={};try{var p=typeof setTimeout=="function"?setTimeout:N}catch{p=N}try{var s=typeof clearTimeout=="function"?clearTimeout:w}catch{s=w}var _=[],y=!1,M,I=-1;b.nextTick=function(E){var L=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)L[i-1]=arguments[i];_.push(new r(E,L)),_.length!==1||y||l(v)},r.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=c,b.addListener=c,b.once=c,b.off=c,b.removeListener=c,b.removeAllListeners=c,b.emit=c,b.prependListener=c,b.prependOnceListener=c,b.listeners=function(E){return[]},b.binding=function(E){throw Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(E){throw Error("process.chdir is not supported")},b.umask=function(){return 0}},{}],23:[function(b,U,j){function N(h,v){for(var r in h)v[r]=h[r]}function w(h,v,r){return T(h,v,r)}var l=b("buffer"),T=l.Buffer;T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?U.exports=l:(N(l,j),j.Buffer=w),w.prototype=Object.create(T.prototype),N(T,w),w.from=function(h,v,r){if(typeof h=="number")throw new TypeError("Argument must not be a number");return T(h,v,r)},w.alloc=function(h,v,r){if(typeof h!="number")throw new TypeError("Argument must be a number");return h=T(h),v!==void 0?typeof r=="string"?h.fill(v,r):h.fill(v):h.fill(0),h},w.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return T(h)},w.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(h)}},{buffer:3}],24:[function(b,U,j){(function(N){(function(){(function(w){function l(g,a){if(!(this instanceof l))return new l(g,a);for(var n=0,F=f.length;n<F;n++)this[f[n]]="";this.q=this.c="",this.bufferCheckPosition=w.MAX_BUFFER_LENGTH,this.opt=a||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!g,this.noscript=!(!g&&!this.opt.noscript),this.state=R.BEGIN,this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(w.XML_ENTITIES):Object.create(w.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(e)),(this.trackPosition=this.opt.position!==!1)&&(this.position=this.line=this.column=0),this.onready&&this.onready(void 0)}function T(g,a){if(!(this instanceof T))return new T(g,a);C.apply(this),this._parser=new l(g,a),this.readable=this.writable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(F){n.emit("error",F),n._parser.error=null},this._decoder=null,B.forEach(function(F){Object.defineProperty(n,"on"+F,{get:function(){return n._parser["on"+F]},set:function(S){if(!S)return n.removeAllListeners(F),n._parser["on"+F]=S;n.on(F,S)},enumerable:!0,configurable:!1})})}function h(g){return g.split("").reduce(function(a,n){return a[n]=!0,a},{})}function v(g,a){return Object.prototype.toString.call(g)==="[object RegExp]"?!!a.match(g):g[a]}function r(g,a,n){g.textNode&&c(g),g[a]&&g[a](n)}function c(g){g.textNode=p(g.opt,g.textNode),g.textNode&&g.ontext&&g.ontext(g.textNode),g.textNode=""}function p(g,a){return g.trim&&(a=a.trim()),g.normalize&&(a=a.replace(/\s+/g," ")),a}function s(g,a){return c(g),g.trackPosition&&(a+=`
Line: `+g.line+`
Column: `+g.column+`
Char: `+g.c),a=Error(a),g.error=a,g.onerror&&g.onerror(a),g}function _(g){return g.sawRoot&&!g.closedRoot&&y(g,"Unclosed root tag"),g.state!==R.BEGIN&&g.state!==R.BEGIN_WHITESPACE&&g.state!==R.TEXT&&s(g,"Unexpected end"),c(g),g.c="",g.closed=!0,g.onend&&g.onend(void 0),l.call(g,g.strict,g.opt),g}function y(g,a){if(typeof g!="object"||!(g instanceof l))throw Error("bad call to strictFail");g.strict&&s(g,a)}function M(g,a){var n=0>g.indexOf(":")?["",g]:g.split(":"),F=n[0];return n=n[1],a&&g==="xmlns"&&(F="xmlns",n=""),{prefix:F,local:n}}function I(g){if(g.strict||(g.attribName=g.attribName[g.looseCase]()),g.attribList.indexOf(g.attribName)===-1&&!g.tag.attributes.hasOwnProperty(g.attribName))if(g.opt.xmlns){var a=M(g.attribName,!0),n=a.local;if(a.prefix==="xmlns")if(n==="xml"&&g.attribValue!==it)y(g,"xml: prefix must be bound to "+it+`
Actual: `+g.attribValue);else if(n==="xmlns"&&g.attribValue!==t)y(g,"xmlns: prefix must be bound to "+t+`
Actual: `+g.attribValue);else{a=g.tag;var F=g.tags[g.tags.length-1]||g;a.ns===F.ns&&(a.ns=Object.create(F.ns)),a.ns[n]=g.attribValue}g.attribList.push([g.attribName,g.attribValue])}else g.tag.attributes[g.attribName]=g.attribValue,r(g,"onattribute",{name:g.attribName,value:g.attribValue});g.attribName=g.attribValue=""}function E(g,a){if(g.opt.xmlns){var n=g.tag,F=M(g.tagName);n.prefix=F.prefix,n.local=F.local,n.uri=n.ns[F.prefix]||"",n.prefix&&!n.uri&&(y(g,"Unbound namespace prefix: "+JSON.stringify(g.tagName)),n.uri=F.prefix),F=g.tags[g.tags.length-1]||g,n.ns&&F.ns!==n.ns&&Object.keys(n.ns).forEach(function(J){r(g,"onopennamespace",{prefix:J,uri:n.ns[J]})}),F=0;for(var S=g.attribList.length;F<S;F++){var A=g.attribList[F],x=A[0],q=A[1],O=M(x,!0);A=O.prefix;var k=A===""?"":n.ns[A]||"";q={name:x,value:q,prefix:A,local:O.local,uri:k},A&&A!=="xmlns"&&!k&&(y(g,"Unbound namespace prefix: "+JSON.stringify(A)),q.uri=A),g.tag.attributes[x]=q,r(g,"onattribute",q)}g.attribList.length=0}g.tag.isSelfClosing=!!a,g.sawRoot=!0,g.tags.push(g.tag),r(g,"onopentag",g.tag),a||(g.noscript||g.tagName.toLowerCase()!=="script"?g.state=R.TEXT:g.state=R.SCRIPT,g.tag=null,g.tagName=""),g.attribName=g.attribValue="",g.attribList.length=0}function L(g){if(g.tagName){if(g.script){if(g.tagName!=="script"){g.script+="</"+g.tagName+">",g.tagName="",g.state=R.SCRIPT;return}r(g,"onscript",g.script),g.script=""}var a=g.tags.length,n=g.tagName;g.strict||(n=n[g.looseCase]());for(var F=n;a--&&g.tags[a].name!==F;)y(g,"Unexpected close tag");if(0>a)y(g,"Unmatched closing tag: "+g.tagName),g.textNode+="</"+g.tagName+">";else{for(g.tagName=n,n=g.tags.length;n-- >a;){var S=g.tag=g.tags.pop();g.tagName=g.tag.name,r(g,"onclosetag",g.tagName);for(var A in S.ns);F=g.tags[g.tags.length-1]||g,g.opt.xmlns&&S.ns!==F.ns&&Object.keys(S.ns).forEach(function(x){r(g,"onclosenamespace",{prefix:x,uri:S.ns[x]})})}a===0&&(g.closedRoot=!0),g.tagName=g.attribValue=g.attribName="",g.attribList.length=0}}else y(g,"Weird empty close tag."),g.textNode+="</>";g.state=R.TEXT}function i(g){var a=g.entity,n=a.toLowerCase(),F="";if(g.ENTITIES[a])return g.ENTITIES[a];if(g.ENTITIES[n])return g.ENTITIES[n];if(a=n,a.charAt(0)==="#")if(a.charAt(1)==="x"){a=a.slice(2);var S=parseInt(a,16);F=S.toString(16)}else a=a.slice(1),S=parseInt(a,10),F=S.toString(10);return a=a.replace(/^0+/,""),F.toLowerCase()!==a?(y(g,"Invalid character entity"),"&"+g.entity+";"):String.fromCodePoint(S)}function d(g,a){a==="<"?(g.state=R.OPEN_WAKA,g.startTagPosition=g.position):v(W,a)||(y(g,"Non-whitespace before first tag."),g.textNode=a,g.state=R.TEXT)}function u(g,a){var n="";return a<g.length&&(n=g.charAt(a)),n}w.parser=function(g,a){return new l(g,a)},w.SAXParser=l,w.SAXStream=T,w.createStream=function(g,a){return new T(g,a)},w.MAX_BUFFER_LENGTH=65536;var f="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");w.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" "),Object.create||(Object.create=function(g){function a(){}return a.prototype=g,new a}),Object.keys||(Object.keys=function(g){var a=[],n;for(n in g)g.hasOwnProperty(n)&&a.push(n);return a}),l.prototype={end:function(){_(this)},write:function(g){if(this.error)throw this.error;if(this.closed)return s(this,"Cannot write after close. Assign an onready handler.");if(g===null)return _(this);typeof g=="object"&&(g=g.toString());for(var a=0,n;this.c=n=u(g,a++),!!n;)switch(this.trackPosition&&(this.position++,n===`
`?(this.line++,this.column=0):this.column++),this.state){case R.BEGIN:if(this.state=R.BEGIN_WHITESPACE,n==="\uFEFF")continue;d(this,n);continue;case R.BEGIN_WHITESPACE:d(this,n);continue;case R.TEXT:if(this.sawRoot&&!this.closedRoot){for(var F=a-1;n&&n!=="<"&&n!=="&";)(n=u(g,a++))&&this.trackPosition&&(this.position++,n===`
`?(this.line++,this.column=0):this.column++);this.textNode+=g.substring(F,a-1)}n!=="<"||this.sawRoot&&this.closedRoot&&!this.strict?(v(W,n)||this.sawRoot&&!this.closedRoot||y(this,"Text data outside of root node."),n==="&"?this.state=R.TEXT_ENTITY:this.textNode+=n):(this.state=R.OPEN_WAKA,this.startTagPosition=this.position);continue;case R.SCRIPT:n==="<"?this.state=R.SCRIPT_ENDING:this.script+=n;continue;case R.SCRIPT_ENDING:n==="/"?this.state=R.CLOSE_TAG:(this.script+="<"+n,this.state=R.SCRIPT);continue;case R.OPEN_WAKA:n==="!"?(this.state=R.SGML_DECL,this.sgmlDecl=""):v(W,n)||(v(o,n)?(this.state=R.OPEN_TAG,this.tagName=n):n==="/"?(this.state=R.CLOSE_TAG,this.tagName=""):n==="?"?(this.state=R.PROC_INST,this.procInstName=this.procInstBody=""):(y(this,"Unencoded <"),this.startTagPosition+1<this.position&&(n=Array(this.position-this.startTagPosition).join(" ")+n),this.textNode+="<"+n,this.state=R.TEXT));continue;case R.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===$?(r(this,"onopencdata"),this.state=R.CDATA,this.cdata=this.sgmlDecl=""):this.sgmlDecl+n==="--"?(this.state=R.COMMENT,this.sgmlDecl=this.comment=""):(this.sgmlDecl+n).toUpperCase()===et?(this.state=R.DOCTYPE,(this.doctype||this.sawRoot)&&y(this,"Inappropriately located doctype declaration"),this.sgmlDecl=this.doctype=""):n===">"?(r(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=R.TEXT):(v(G,n)&&(this.state=R.SGML_DECL_QUOTED),this.sgmlDecl+=n);continue;case R.SGML_DECL_QUOTED:n===this.q&&(this.state=R.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case R.DOCTYPE:n===">"?(this.state=R.TEXT,r(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,n==="["?this.state=R.DOCTYPE_DTD:v(G,n)&&(this.state=R.DOCTYPE_QUOTED,this.q=n));continue;case R.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:this.doctype+=n,n==="]"?this.state=R.DOCTYPE:v(G,n)&&(this.state=R.DOCTYPE_DTD_QUOTED,this.q=n);continue;case R.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=R.DOCTYPE_DTD,this.q="");continue;case R.COMMENT:n==="-"?this.state=R.COMMENT_ENDING:this.comment+=n;continue;case R.COMMENT_ENDING:n==="-"?(this.state=R.COMMENT_ENDED,(this.comment=p(this.opt,this.comment))&&r(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=R.COMMENT);continue;case R.COMMENT_ENDED:n!==">"?(y(this,"Malformed comment"),this.comment+="--"+n,this.state=R.COMMENT):this.state=R.TEXT;continue;case R.CDATA:n==="]"?this.state=R.CDATA_ENDING:this.cdata+=n;continue;case R.CDATA_ENDING:n==="]"?this.state=R.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=R.CDATA);continue;case R.CDATA_ENDING_2:n===">"?(this.cdata&&r(this,"oncdata",this.cdata),r(this,"onclosecdata"),this.cdata="",this.state=R.TEXT):n==="]"?this.cdata+="]":(this.cdata+="]]"+n,this.state=R.CDATA);continue;case R.PROC_INST:n==="?"?this.state=R.PROC_INST_ENDING:v(W,n)?this.state=R.PROC_INST_BODY:this.procInstName+=n;continue;case R.PROC_INST_BODY:if(!this.procInstBody&&v(W,n))continue;n==="?"?this.state=R.PROC_INST_ENDING:this.procInstBody+=n;continue;case R.PROC_INST_ENDING:n===">"?(r(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=R.TEXT):(this.procInstBody+="?"+n,this.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:if(v(m,n))this.tagName+=n;else{this.strict||(this.tagName=this.tagName[this.looseCase]()),F=this.tags[this.tags.length-1]||this;var S=this.tag={name:this.tagName,attributes:{}};this.opt.xmlns&&(S.ns=F.ns),this.attribList.length=0,r(this,"onopentagstart",S),n===">"?E(this):n==="/"?this.state=R.OPEN_TAG_SLASH:(v(W,n)||y(this,"Invalid character in tag name"),this.state=R.ATTRIB)}continue;case R.OPEN_TAG_SLASH:n===">"?(E(this,!0),L(this)):(y(this,"Forward-slash in opening tag not followed by >"),this.state=R.ATTRIB);continue;case R.ATTRIB:if(v(W,n))continue;n===">"?E(this):n==="/"?this.state=R.OPEN_TAG_SLASH:v(o,n)?(this.attribName=n,this.attribValue="",this.state=R.ATTRIB_NAME):y(this,"Invalid attribute name");continue;case R.ATTRIB_NAME:n==="="?this.state=R.ATTRIB_VALUE:n===">"?(y(this,"Attribute without value"),this.attribValue=this.attribName,I(this),E(this)):v(W,n)?this.state=R.ATTRIB_NAME_SAW_WHITE:v(m,n)?this.attribName+=n:y(this,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(n==="=")this.state=R.ATTRIB_VALUE;else{if(v(W,n))continue;y(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",r(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",n===">"?E(this):v(o,n)?(this.attribName=n,this.state=R.ATTRIB_NAME):(y(this,"Invalid attribute name"),this.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(v(W,n))continue;v(G,n)?(this.q=n,this.state=R.ATTRIB_VALUE_QUOTED):(y(this,"Unquoted attribute value"),this.state=R.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case R.ATTRIB_VALUE_QUOTED:if(n!==this.q){n==="&"?this.state=R.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}I(this),this.q="",this.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:v(W,n)?this.state=R.ATTRIB:n===">"?E(this):n==="/"?this.state=R.OPEN_TAG_SLASH:v(o,n)?(y(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=R.ATTRIB_NAME):y(this,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!v(V,n)){n==="&"?this.state=R.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}I(this),n===">"?E(this):this.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(this.tagName)n===">"?L(this):v(m,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=R.SCRIPT):(v(W,n)||y(this,"Invalid tagname in closing tag"),this.state=R.CLOSE_TAG_SAW_WHITE);else{if(v(W,n))continue;v(o,n)?this.tagName=n:this.script?(this.script+="</"+n,this.state=R.SCRIPT):y(this,"Invalid tagname in closing tag.")}continue;case R.CLOSE_TAG_SAW_WHITE:if(v(W,n))continue;n===">"?L(this):y(this,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:switch(this.state){case R.TEXT_ENTITY:var A=R.TEXT,x="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:A=R.ATTRIB_VALUE_QUOTED,x="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:A=R.ATTRIB_VALUE_UNQUOTED,x="attribValue"}n===";"?(this[x]+=i(this),this.entity="",this.state=A):v(this.entity.length?Y:D,n)?this.entity+=n:(y(this,"Invalid character in entity name"),this[x]+="&"+this.entity+n,this.entity="",this.state=A);continue;default:throw Error(this,"Unknown state: "+this.state)}if(this.position>=this.bufferCheckPosition){for(g=Math.max(w.MAX_BUFFER_LENGTH,10),n=a=0,A=f.length;n<A;n++){if(x=this[f[n]].length,x>g)switch(f[n]){case"textNode":c(this);break;case"cdata":r(this,"oncdata",this.cdata),this.cdata="";break;case"script":r(this,"onscript",this.script),this.script="";break;default:s(this,"Max buffer length exceeded: "+f[n])}a=Math.max(a,x)}this.bufferCheckPosition=w.MAX_BUFFER_LENGTH-a+this.position}return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){c(this),this.cdata!==""&&(r(this,"oncdata",this.cdata),this.cdata=""),this.script!==""&&(r(this,"onscript",this.script),this.script="")}};try{var C=b("stream").Stream}catch{C=function(){}}var B=w.EVENTS.filter(function(g){return g!=="error"&&g!=="end"});T.prototype=Object.create(C.prototype,{constructor:{value:T}}),T.prototype.write=function(g){return typeof N=="function"&&typeof N.isBuffer=="function"&&N.isBuffer(g)&&(this._decoder||(this._decoder=new(b("string_decoder")).StringDecoder("utf8")),g=this._decoder.write(g)),this._parser.write(g.toString()),this.emit("data",g),!0},T.prototype.end=function(g){return g&&g.length&&this.write(g),this._parser.end(),!0},T.prototype.on=function(g,a){var n=this;return n._parser["on"+g]||B.indexOf(g)===-1||(n._parser["on"+g]=function(){var F=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);F.splice(0,0,g),n.emit.apply(n,F)}),C.prototype.on.call(n,g,a)};var W=`\r
	 `,P="0124356789",H="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G=`'"`,V=W+">",$="[CDATA[",et="DOCTYPE",it="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/2000/xmlns/",e={xml:it,xmlns:t};W=h(W),P=h(P),H=h(H);var o=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,D=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;G=h(G),V=h(V);var R=0;w.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},w.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},w.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(w.ENTITIES).forEach(function(g){var a=w.ENTITIES[g];a=typeof a=="number"?String.fromCharCode(a):a,w.ENTITIES[g]=a});for(var z in w.STATE)w.STATE[w.STATE[z]]=z;R=w.STATE,String.fromCodePoint||function(){var g=String.fromCharCode,a=Math.floor,n=function(){var F=[],S=-1,A=arguments.length;if(!A)return"";for(var x="";++S<A;){var q=Number(arguments[S]);if(!isFinite(q)||0>q||1114111<q||a(q)!==q)throw RangeError("Invalid code point: "+q);if(65535>=q)F.push(q);else{q-=65536;var O=(q>>10)+55296;q=q%1024+56320,F.push(O,q)}(S+1===A||16384<F.length)&&(x+=g.apply(null,F),F.length=0)}return x};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()})(typeof j>"u"?this.sax={}:j)}).call(this)}).call(this,b("buffer").Buffer)},{buffer:3,stream:5,string_decoder:25}],25:[function(b,U,j){function N(I){if(!I)return"utf8";for(var E;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(E)return;I=(""+I).toLowerCase(),E=!0}}function w(I){var E=N(I);if(typeof E!="string"&&(y.isEncoding===M||!M(I)))throw Error("Unknown encoding: "+I);switch(this.encoding=E||I,this.encoding){case"utf16le":this.text=v,this.end=r,I=4;break;case"utf8":this.fillLast=h,I=4;break;case"base64":this.text=c,this.end=p,I=3;break;default:this.write=s,this.end=_;return}this.lastTotal=this.lastNeed=0,this.lastChar=y.allocUnsafe(I)}function l(I){return 127>=I?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function T(I,E,L){var i=E.length-1;if(i<L)return 0;var d=l(E[i]);return 0<=d?(0<d&&(I.lastNeed=d-1),d):--i<L||d===-2?0:(d=l(E[i]),0<=d?(0<d&&(I.lastNeed=d-2),d):--i<L||d===-2?0:(d=l(E[i]),0<=d?(0<d&&(d===2?d=0:I.lastNeed=d-3),d):0))}function h(I){var E=this.lastTotal-this.lastNeed;t:if((I[0]&192)!==128){this.lastNeed=0;var L=""}else{if(1<this.lastNeed&&1<I.length){if((I[1]&192)!==128){this.lastNeed=1,L="";break t}if(2<this.lastNeed&&2<I.length&&(I[2]&192)!==128){this.lastNeed=2,L="";break t}}L=void 0}if(L!==void 0)return L;if(this.lastNeed<=I.length)return I.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,E,0,I.length),this.lastNeed-=I.length}function v(I,E){if((I.length-E)%2===0){if(E=I.toString("utf16le",E)){var L=E.charCodeAt(E.length-1);if(55296<=L&&56319>=L)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",E,I.length-1)}function r(I){return I=I&&I.length?this.write(I):"",this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function c(I,E){var L=(I.length-E)%3;return L===0?I.toString("base64",E):(this.lastNeed=3-L,this.lastTotal=3,L===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",E,I.length-L))}function p(I){return I=I&&I.length?this.write(I):"",this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function s(I){return I.toString(this.encoding)}function _(I){return I&&I.length?this.write(I):""}var y=b("safe-buffer").Buffer,M=y.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};j.StringDecoder=w,w.prototype.write=function(I){if(I.length===0)return"";if(this.lastNeed){var E=this.fillLast(I);if(E===void 0)return"";var L=this.lastNeed;this.lastNeed=0}else L=0;return L<I.length?E?E+this.text(I,L):this.text(I,L):E||""},w.prototype.end=function(I){return I=I&&I.length?this.write(I):"",this.lastNeed?I+"":I},w.prototype.text=function(I,E){var L=T(this,I,E);return this.lastNeed?(this.lastTotal=L,L=I.length-(L-this.lastNeed),I.copy(this.lastChar,0,L),I.toString("utf8",E,L)):I.toString("utf8",E)},w.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length}},{"safe-buffer":23}],26:[function(b,U,j){(function(N){(function(){function w(l){try{if(!N.localStorage)return!1}catch{return!1}return l=N.localStorage[l],l==null?!1:String(l).toLowerCase()==="true"}U.exports=function(l,T){if(w("noDeprecation"))return l;var h=!1;return function(){if(!h){if(w("throwDeprecation"))throw Error(T);w("traceDeprecation")?console.trace(T):console.warn(T),h=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof st<"u"?st:typeof self<"u"?self:typeof window<"u"?window:{})},{}],27:[function(b,U,j){(function(N,w,l,T,h){function v(S){if("contents"in S){var A="styleAttrs"in S?S.styleAttrs[T.byName.ruby.qname]:null;A=S.kind==="span"&&(A==="container"||A==="textContainer"||A==="baseContainer");for(var x=S.contents.length-1;0<=x;x--)!A||"styleAttrs"in S.contents[x]&&T.byName.ruby.qname in S.contents[x].styleAttrs?v(S.contents[x]):delete S.contents[x]}}function r(S,A,x,q){var O=q&&q.timeContainer==="seq",k=0;if(q&&(k=O&&x?x.end:q.begin),A.begin=A.explicit_begin?A.explicit_begin+k:k,x=A.begin,q=null,"sets"in A)for(var J=0;J<A.sets.length;J++)r(S,A.sets[J],q,A),x=A.timeContainer==="seq"?A.sets[J].end:Math.max(x,A.sets[J].end),q=A.sets[J];if(!("contents"in A))x=O?A.begin:Number.POSITIVE_INFINITY;else if("contents"in A)for(O=0;O<A.contents.length;O++)r(S,A.contents[O],q,A),x=A.timeContainer==="seq"?A.contents[O].end:Math.max(x,A.contents[O].end),q=A.contents[O];A.end=A.explicit_end!==null&&A.explicit_dur!==null?Math.min(A.begin+A.explicit_dur,k+A.explicit_end):A.explicit_end===null&&A.explicit_dur!==null?A.begin+A.explicit_dur:A.explicit_end!==null&&A.explicit_dur===null?k+A.explicit_end:x,delete A.explicit_begin,delete A.explicit_dur,delete A.explicit_end,S._registerEvent(A)}function c(S){this.node=S}function p(){this.events=[],this.head=new s,this.body=null}function s(){this.styling=new _,this.layout=new I}function _(){this.styles={},this.initials={}}function y(){this.styleRefs=this.styleAttrs=this.id=null}function M(){this.styleAttrs=null}function I(){this.regions={}}function E(S,A){this.kind="image",this.src=S,this.type=A}function L(S){this.id=S}function i(S){this.regionID=S}function d(S){this.styleAttrs=S}function u(S){this.sets=S}function f(S){this.contents=S}function C(S,A,x){this.explicit_begin=S,this.explicit_end=A,this.explicit_dur=x}function B(){this.kind="body"}function W(){this.kind="div"}function P(){this.kind="p"}function H(){this.kind="span"}function G(){this.kind="span"}function V(){this.kind="br"}function $(){}function et(){}function it(S){return S&&"xml:id"in S.attributes&&S.attributes["xml:id"].value||null}function t(S){return S&&"style"in S.attributes?S.attributes.style.value.split(" "):[]}function e(S,A){var x={};if(S!==null)for(var q in S.attributes){var O=S.attributes[q].uri+" "+S.attributes[q].local,k=T.byQName[O];if(k!==void 0){var J=k.parse(S.attributes[q].value);J!==null?(x[O]=J,k===T.byName.zIndex&&g(A,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):a(A,"Cannot parse styling attribute "+O+" --> "+S.attributes[q].value)}}return x}function o(S,A,x){for(var q in S.attributes)if(S.attributes[q].uri===A&&S.attributes[q].local===x)return S.attributes[q].value;return null}function m(S,A){if(S=o(S,l.ns_tts,"extent"),S===null)return null;var x=S.split(" ");return x.length!==2?(g(A,"Malformed extent (ignoring)"),null):(S=h.parseLength(x[0]),x=h.parseLength(x[1]),x&&S?{h:x,w:S}:(g(A,"Malformed extent values (ignoring)"),null))}function D(S,A,x){var q=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,O=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/,k=/^(\d+(?:\.\d+)?)t$/,J=/^(\d+(?:\.\d+)?)ms$/,rt=/^(\d+(?:\.\d+)?)s$/,Z=/^(\d+(?:\.\d+)?)h$/,lt=/^(\d+(?:\.\d+)?)m$/,tt,Q=null;return(tt=/^(\d+(?:\.\d+)?)f$/.exec(x))!==null?A!==null&&(Q=parseFloat(tt[1])/A):(tt=k.exec(x))!==null?S!==null&&(Q=parseFloat(tt[1])/S):(tt=J.exec(x))!==null?Q=parseFloat(tt[1])/1e3:(tt=rt.exec(x))!==null?Q=parseFloat(tt[1]):(tt=Z.exec(x))!==null?Q=3600*parseFloat(tt[1]):(tt=lt.exec(x))!==null?Q=60*parseFloat(tt[1]):(tt=q.exec(x))!==null?Q=3600*parseInt(tt[1])+60*parseInt(tt[2])+parseFloat(tt[3]):(tt=O.exec(x))!==null&&A!==null&&(Q=3600*parseInt(tt[1])+60*parseInt(tt[2])+parseInt(tt[3])+(tt[4]===null?0:parseInt(tt[4])/A)),Q}function Y(S,A,x){for(;0<A.styleRefs.length;){var q=A.styleRefs.pop();q in S.styles?(Y(S,S.styles[q],x),z(S.styles[q].styleAttrs,A.styleAttrs)):a(x,"Non-existant style id referenced")}}function R(S,A,x,q){for(var O=A.length-1;0<=O;O--){var k=A[O];k in S.styles?z(S.styles[k].styleAttrs,x):a(q,"Non-existant style id referenced")}}function z(S,A){for(var x in S)S.hasOwnProperty(x)&&(x in A||(A[x]=S[x]))}function g(S,A){if(S&&S.warn&&S.warn(A))throw A}function a(S,A){if(S&&S.error&&S.error(A))throw A}function n(S,A){throw S&&S.fatal&&S.fatal(A),A}function F(S,A){for(var x=0,q=S.length-1,O;x<=q;){O=Math.floor((x+q)/2);var k=S[O];if(k<A)x=O+1;else if(k>A)q=O-1;else return{found:!0,index:O}}return{found:!1,index:x}}N.fromXML=function(S,A,x){var q=w.parser(!0,{xmlns:!0}),O=[],k=[],J=[],rt=0,Z=null;q.onclosetag=function(Q){if(O[0]instanceof $)Z.head!==null&&Z.head.styling!==null&&R(Z.head.styling,O[0].styleRefs,O[0].styleAttrs,A),delete O[0].styleRefs;else if(O[0]instanceof _)for(var nt in O[0].styles)O[0].styles.hasOwnProperty(nt)&&Y(O[0],O[0].styles[nt],A);else if(O[0]instanceof P||O[0]instanceof H){if(1<O[0].contents.length){for(Q=[O[0].contents[0]],nt=1;nt<O[0].contents.length;nt++)O[0].contents[nt]instanceof G&&Q[Q.length-1]instanceof G?Q[Q.length-1].text+=O[0].contents[nt].text:Q.push(O[0].contents[nt]);O[0].contents=Q}O[0]instanceof H&&O[0].contents.length===1&&O[0].contents[0]instanceof G&&(O[0].text=O[0].contents[0].text,delete O[0].contents)}else O[0]instanceof c&&(O[0].node.uri===l.ns_tt&&O[0].node.local==="metadata"?rt--:0<rt&&x&&"onCloseTag"in x&&x.onCloseTag());J.shift(),k.shift(),O.shift()},q.ontext=function(Q){if(O[0]!==void 0)if(O[0]instanceof H||O[0]instanceof P){if(O[0]instanceof H){var nt=O[0].styleAttrs[T.byName.ruby.qname];if(nt==="container"||nt==="textContainer"||nt==="baseContainer")return}nt=new G,nt.initFromText(Z,O[0],Q,k[0],J[0],A),O[0].contents.push(nt)}else O[0]instanceof c&&0<rt&&x&&"onText"in x&&x.onText(Q)},q.onopentag=function(Q){var nt=Q.attributes["xml:space"];if(nt?J.unshift(nt.value):J.length===0?J.unshift("default"):J.unshift(J[0]),(nt=Q.attributes["xml:lang"])?k.unshift(nt.value):k.length===0?k.unshift(""):k.unshift(k[0]),Q.uri===l.ns_tt)if(Q.local==="tt")Z!==null&&n(A,"Two <tt> elements at ("+this.line+","+this.column+")"),Z=new p,Z.initFromNode(Q,k[0],A),O.unshift(Z);else if(Q.local==="head")O[0]instanceof p||n(A,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),O.unshift(Z.head);else if(Q.local==="styling")O[0]instanceof s||n(A,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),O.unshift(Z.head.styling);else if(Q.local==="style")if(O[0]instanceof _){var K=new y;K.initFromNode(Q,A),K.id?Z.head.styling.styles[K.id]=K:a(A,"<style> element missing @id attribute"),O.unshift(K)}else O[0]instanceof $?(K=new y,K.initFromNode(Q,A),z(K.styleAttrs,O[0].styleAttrs),O.unshift(K)):n(A,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")");else if(Q.local==="initial")if(O[0]instanceof _){nt=new M,nt.initFromNode(Q,A);for(K in nt.styleAttrs)nt.styleAttrs.hasOwnProperty(K)&&(Z.head.styling.initials[K]=nt.styleAttrs[K]);O.unshift(nt)}else n(A,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")");else Q.local==="layout"?(O[0]instanceof s||n(A,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),O.unshift(Z.head.layout)):Q.local==="region"?(O[0]instanceof I||n(A,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),K=new $,K.initFromNode(Z,Q,k[0],A),!K.id||K.id in Z.head.layout.regions?a(A,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Z.head.layout.regions[K.id]=K,O.unshift(K)):Q.local==="body"?(O[0]instanceof p||n(A,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Z.body!==null&&n(A,"Second <body> element at "+this.line+","+this.column+")"),K=new B,K.initFromNode(Z,Q,k[0],A),Z.body=K,O.unshift(K)):Q.local==="div"?(O[0]instanceof W||O[0]instanceof B||n(A,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),K=new W,K.initFromNode(Z,O[0],Q,k[0],A),(nt=K.styleAttrs[T.byName.backgroundImage.qname])&&(K.contents.push(new E(nt)),delete K.styleAttrs[T.byName.backgroundImage.qname]),O[0].contents.push(K),O.unshift(K)):Q.local==="image"?(O[0]instanceof W||n(A,"Parent of <image> element is not <div> at "+this.line+","+this.column+")"),K=new E,K.initFromNode(Z,O[0],Q,k[0],A),O[0].contents.push(K),O.unshift(K)):Q.local==="p"?(O[0]instanceof W||n(A,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),K=new P,K.initFromNode(Z,O[0],Q,k[0],A),O[0].contents.push(K),O.unshift(K)):Q.local==="span"?(O[0]instanceof H||O[0]instanceof P||n(A,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),K=new H,K.initFromNode(Z,O[0],Q,k[0],J[0],A),O[0].contents.push(K),O.unshift(K)):Q.local==="br"?(O[0]instanceof H||O[0]instanceof P||n(A,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),K=new V,K.initFromNode(Z,O[0],Q,k[0],A),O[0].contents.push(K),O.unshift(K)):Q.local==="set"?(O[0]instanceof H||O[0]instanceof P||O[0]instanceof W||O[0]instanceof B||O[0]instanceof $||O[0]instanceof V||n(A,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),K=new et,K.initFromNode(Z,O[0],Q,A),O[0].sets.push(K),O.unshift(K)):O.unshift(new c(Q));else O.unshift(new c(Q));if(O[0]instanceof c){if(Q.uri===l.ns_tt&&Q.local==="metadata")rt++;else if(0<rt&&x&&"onOpenTag"in x){K=[];for(var ut in Q.attributes)K[Q.attributes[ut].uri+" "+Q.attributes[ut].local]={uri:Q.attributes[ut].uri,local:Q.attributes[ut].local,value:Q.attributes[ut].value};x.onOpenTag(Q.uri,Q.local,K)}}},q.write(S).close(),delete Z.head.styling.styles,S=!1;for(var lt in Z.head.layout.regions)if(Z.head.layout.regions.hasOwnProperty(lt)){S=!0;break}S||(lt=$.prototype.createDefaultRegion(Z.lang),Z.head.layout.regions[lt.id]=lt);for(var tt in Z.head.layout.regions)Z.head.layout.regions.hasOwnProperty(tt)&&r(Z,Z.head.layout.regions[tt],null,null);return Z.body&&r(Z,Z.body,null,null),Z.body&&v(Z.body),Z},p.prototype.initFromNode=function(S,A,x){var q=o(S,l.ns_ttp,"cellResolution"),O=15,k=32;q!==null&&(q=/(\d+) (\d+)/.exec(q),q!==null?(k=parseInt(q[1]),O=parseInt(q[2])):g(x,"Malformed cellResolution value (using initial value instead)")),this.cellLength={h:new h.ComputedLength(0,1/O),w:new h.ComputedLength(1/k,0)},O=o(S,l.ns_ttp,"frameRate"),q=30,O!==null&&(k=/(\d+)/.exec(O),k!==null?q=parseInt(k[1]):g(x,"Malformed frame rate attribute (using initial value instead)")),k=o(S,l.ns_ttp,"frameRateMultiplier");var J=1;k!==null&&(k=/(\d+) (\d+)/.exec(k),k!==null?J=parseInt(k[1])/parseInt(k[2]):g(x,"Malformed frame rate multiplier attribute (using initial value instead)")),q*=J,J=1,k=o(S,l.ns_ttp,"tickRate"),k===null?O!==null&&(J=q):(k=/(\d+)/.exec(k),k!==null?J=parseInt(k[1]):g(x,"Malformed tick rate attribute (using initial value instead)")),this.effectiveFrameRate=q,this.tickRate=J,k=o(S,l.ns_ittp,"aspectRatio"),k===null&&(k=o(S,l.ns_ttp,"displayAspectRatio")),O=null,k!==null&&(q=/(\d+)\s+(\d+)/.exec(k),q!==null?(k=parseInt(q[1]),q=parseInt(q[2]),k!==0&&q!==0?O=k/q:a(x,"Illegal aspectRatio values (ignoring)")):a(x,"Malformed aspectRatio attribute (ignoring)")),this.aspectRatio=O,O=o(S,l.ns_ttp,"timeBase"),O!==null&&O!=="media"&&n(x,"Unsupported time base"),S=m(S,x),S===null?this.pxLength={h:null,w:null}:(S.h.unit==="px"&&S.w.unit==="px"||n(x,"Extent on TT must be in px or absent"),this.pxLength={h:new h.ComputedLength(0,1/S.h.value),w:new h.ComputedLength(1/S.w.value,0)}),this.dimensions={h:new h.ComputedLength(0,1),w:new h.ComputedLength(1,0)},this.lang=A},p.prototype._registerEvent=function(S){if(!(S.end<=S.begin)){var A=F(this.events,S.begin);A.found||this.events.splice(A.index,0,S.begin),S.end!==Number.POSITIVE_INFINITY&&(A=F(this.events,S.end),A.found||this.events.splice(A.index,0,S.end))}},p.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},p.prototype.getMediaTimeEvents=function(){return this.events},y.prototype.initFromNode=function(S,A){this.id=it(S),this.styleAttrs=e(S,A),this.styleRefs=t(S)},M.prototype.initFromNode=function(S,A){this.styleAttrs={};for(var x in S.attributes)(S.attributes[x].uri===l.ns_itts||S.attributes[x].uri===l.ns_ebutts||S.attributes[x].uri===l.ns_tts)&&(this.styleAttrs[S.attributes[x].uri+" "+S.attributes[x].local]=S.attributes[x].value)},E.prototype.initFromNode=function(S,A,x,q,O){(this.src="src"in x.attributes?x.attributes.src.value:null)||a(O,"Invalid image@src attribute"),(this.type="type"in x.attributes?x.attributes.type.value:null)||a(O,"Invalid image@type attribute"),d.prototype.initFromNode.call(this,S,A,x,O),C.prototype.initFromNode.call(this,S,A,x,O),u.prototype.initFromNode.call(this,S,A,x,O),i.prototype.initFromNode.call(this,S,A,x,O),this.lang=q},L.prototype.initFromNode=function(S,A,x,q){this.id=it(x)},i.prototype.initFromNode=function(S,A,x,q){this.regionID=x&&"region"in x.attributes?x.attributes.region.value:""},d.prototype.initFromNode=function(S,A,x,q){this.styleAttrs=e(x,q),S.head!==null&&S.head.styling!==null&&R(S.head.styling,t(x),this.styleAttrs,q)},u.prototype.initFromNode=function(S,A,x,q){this.sets=[]},f.prototype.initFromNode=function(S,A,x,q){this.contents=[]},C.prototype.initFromNode=function(S,A,x,q){A=null,x&&"begin"in x.attributes&&(A=D(S.tickRate,S.effectiveFrameRate,x.attributes.begin.value),A===null&&g(q,"Malformed begin value "+x.attributes.begin.value+" (using 0)"));var O=null;x&&"dur"in x.attributes&&(O=D(S.tickRate,S.effectiveFrameRate,x.attributes.dur.value),O===null&&g(q,"Malformed dur value "+x.attributes.dur.value+" (ignoring)"));var k=null;x&&"end"in x.attributes&&(k=D(S.tickRate,S.effectiveFrameRate,x.attributes.end.value),k===null&&g(q,"Malformed end value (ignoring)")),this.explicit_begin=A,this.explicit_end=k,this.explicit_dur=O,(S=x&&"timeContainer"in x.attributes?x.attributes.timeContainer.value:null)&&S!=="par"?S==="seq"?q="seq":(a(q,"Illegal value of timeContainer (assuming 'par')"),q="par"):q="par",this.timeContainer=q},B.prototype.initFromNode=function(S,A,x,q){d.prototype.initFromNode.call(this,S,null,A,q),C.prototype.initFromNode.call(this,S,null,A,q),u.prototype.initFromNode.call(this,S,null,A,q),i.prototype.initFromNode.call(this,S,null,A,q),f.prototype.initFromNode.call(this,S,null,A,q),this.lang=x},W.prototype.initFromNode=function(S,A,x,q,O){d.prototype.initFromNode.call(this,S,A,x,O),C.prototype.initFromNode.call(this,S,A,x,O),u.prototype.initFromNode.call(this,S,A,x,O),i.prototype.initFromNode.call(this,S,A,x,O),f.prototype.initFromNode.call(this,S,A,x,O),this.lang=q},P.prototype.initFromNode=function(S,A,x,q,O){d.prototype.initFromNode.call(this,S,A,x,O),C.prototype.initFromNode.call(this,S,A,x,O),u.prototype.initFromNode.call(this,S,A,x,O),i.prototype.initFromNode.call(this,S,A,x,O),f.prototype.initFromNode.call(this,S,A,x,O),this.lang=q},H.prototype.initFromNode=function(S,A,x,q,O,k){d.prototype.initFromNode.call(this,S,A,x,k),C.prototype.initFromNode.call(this,S,A,x,k),u.prototype.initFromNode.call(this,S,A,x,k),i.prototype.initFromNode.call(this,S,A,x,k),f.prototype.initFromNode.call(this,S,A,x,k),this.space=O,this.lang=q},G.prototype.initFromText=function(S,A,x,q,O,k){C.prototype.initFromNode.call(this,S,A,null,k),this.text=x,this.space=O,this.lang=q},V.prototype.initFromNode=function(S,A,x,q,O){i.prototype.initFromNode.call(this,S,A,x,O),C.prototype.initFromNode.call(this,S,A,x,O),this.lang=q},$.prototype.createDefaultRegion=function(S){var A=new $;return A.id="",A.styleAttrs={},A.sets=[],C.call(A,0,Number.POSITIVE_INFINITY,null),this.lang=S,A},$.prototype.initFromNode=function(S,A,x,q){L.prototype.initFromNode.call(this,S,null,A,q),C.prototype.initFromNode.call(this,S,null,A,q),u.prototype.initFromNode.call(this,S,null,A,q),this.styleAttrs=e(A,q),this.styleRefs=t(A),this.lang=x},et.prototype.initFromNode=function(S,A,x,q){C.prototype.initFromNode.call(this,S,A,x,q),S=e(x,q),this.value=this.qname=null;for(var O in S)if(S.hasOwnProperty(O)){if(this.qname){a(q,"More than one style specified on set");break}this.qname=O,this.value=S[O]}}})(typeof j>"u"?this.imscDoc={}:j,typeof sax>"u"?b("sax"):sax,typeof imscNames>"u"?b("./names"):imscNames,typeof imscStyles>"u"?b("./styles"):imscStyles,typeof imscUtils>"u"?b("./utils"):imscUtils)},{"./names":31,"./styles":32,"./utils":33,sax:24}],28:[function(b,U,j){var N=/firefox/i.test(navigator.userAgent);(function(w,l,T){function h(i,d,u,f){if(u.kind==="region"){var C=document.createElement("div");C.style.position="absolute"}else if(u.kind==="body")C=document.createElement("div");else if(u.kind==="div")C=document.createElement("div");else if(u.kind==="image"){if(C=document.createElement("img"),i.imgResolver!==null&&u.src!==null){var B=i.imgResolver(u.src,C);B&&(C.src=B),C.height=i.regionH,C.width=i.regionW}}else if(u.kind==="p")C=document.createElement("p");else if(u.kind==="span")if(u.styleAttrs[T.byName.ruby.qname]==="container")C=document.createElement("ruby"),i.ruby=!0;else if(u.styleAttrs[T.byName.ruby.qname]==="base")C=document.createElement("span");else if(u.styleAttrs[T.byName.ruby.qname]==="text")C=document.createElement("rt");else if(u.styleAttrs[T.byName.ruby.qname]==="baseContainer")C=document.createElement("rbc");else if(u.styleAttrs[T.byName.ruby.qname]==="textContainer")C=document.createElement("rtc");else{if(u.styleAttrs[T.byName.ruby.qname]==="delimiter")return;C=document.createElement("span")}else u.kind==="br"&&(C=document.createElement("br"));if(C){for(!u.lang||u.kind!=="region"&&u.lang===f.lang||(C.lang=u.lang),d.appendChild(C),C.style.margin="0",u.kind==="region"?(d=u.styleAttrs[T.byName.writingMode.qname],d==="lrtb"||d==="lr"?(i.ipd="lr",i.bpd="tb"):d==="rltb"||d==="rl"?(i.ipd="rl",i.bpd="tb"):d==="tblr"?(i.ipd="tb",i.bpd="lr"):(d==="tbrl"||d==="tb")&&(i.ipd="tb",i.bpd="rl")):u.kind==="p"&&i.bpd==="tb"&&(i.ipd=u.styleAttrs[T.byName.direction.qname]==="ltr"?"lr":"rl"),d=0;d<y.length;d++)f=y[d],B=u.styleAttrs[f.qname],B!==void 0&&f.map!==null&&f.map(i,C,u,B);if(d=C,(f=u.styleAttrs[T.byName.linePadding.qname])&&!f.isZero()&&(B=f.toUsedLength(i.w,i.h),0<B&&(B=Math.ceil(B)+"px",i.bpd==="tb"?(d.style.paddingLeft=B,d.style.paddingRight=B):(d.style.paddingTop=B,d.style.paddingBottom=B),i.lp=f)),(f=u.styleAttrs[T.byName.multiRowAlign.qname])&&f!=="auto"&&(d=document.createElement("span"),d.style.display="inline-block",d.style.textAlign=f,C.appendChild(d),i.mra=f),(f=u.styleAttrs[T.byName.rubyReserve.qname])&&f[0]!=="none"&&(i.rubyReserve=f),u.styleAttrs[T.byName.fillLineGap.qname]&&(i.flg=!0),u.kind==="span"&&u.text)if((f=u.styleAttrs[T.byName.textEmphasis.qname])&&f.style!=="none"&&(i.textEmphasis=!0),T.byName.textCombine.qname in u.styleAttrs&&u.styleAttrs[T.byName.textCombine.qname]==="all")C.textContent=u.text,C._isd_element=u,f&&s(i,C,u,f);else{B="";for(var W=0;W<u.text.length;W++){B+=u.text.charAt(W);var P=u.text.charCodeAt(W);(55296>P||56319<P||W===u.text.length-1)&&(P=document.createElement("span"),P.textContent=B,f&&s(i,P,u,f),C.appendChild(P),B="",P._isd_element=u)}}if("contents"in u)for(f=0;f<u.contents.length;f++)h(i,d,u.contents[f],u);if(f=[],u.kind==="p"){if(p(i,d,f,null),i.rubyReserve){for(B=0;B<f.length;B++){W=document.createElement("ruby"),P=document.createElement("span"),P.textContent="",W.appendChild(P);var H=i.rubyReserve[1].toUsedLength(i.w,i.h)+"px";if(i.rubyReserve[0]==="both"||i.rubyReserve[0]==="outside"&&f.length==1){P=document.createElement("rtc"),P.style[I]=M?"after":"under",P.textContent="",P.style.fontSize=H;var G=document.createElement("rtc");G.style[I]=M?"before":"over",G.textContent="",G.style.fontSize=H,W.appendChild(P),W.appendChild(G)}else P=document.createElement("rtc"),P.textContent="",P.style.fontSize=H,P.style[I]=i.rubyReserve[0]==="after"||i.rubyReserve[0]==="outside"&&0<B?M?"after":i.bpd==="tb"||i.bpd==="rl"?"under":"over":M?"before":i.bpd==="tb"||i.bpd==="rl"?"over":"under",W.appendChild(P);for(P=null,G=0;G<f[B].rbc.length;G++)if(f[B].rbc[G].localName==="ruby"){for(P=f[B].rbc[G],G=0;G<P.style.length;G++)W.style.setProperty(P.style.item(G),P.style.getPropertyValue(P.style.item(G)));break}P=P||f[B].elements[0].node,P.parentElement.insertBefore(W,P)}i.rubyReserve=null}if(i.ruby||i.rubyReserve){for(B=0;B<f.length;B++)for(W=0;W<f[B].rbc.length;W++)f[B].rbc[W].style[I]||(f[B].rbc[W].style[I]=M?B===0?"before":"after":i.bpd==="tb"||i.bpd==="rl"?B===0?"over":"under":B===0?"under":"over");i.ruby=null}if(i.textEmphasis){for(B=0;B<f.length;B++)for(W=0;W<f[B].te.length;W++)f[B].te[W].style[L]&&f[B].te[W].style[L]!=="none"||(f[B].te[W].style[L]=i.bpd==="tb"?B===0?"left over":"left under":i.bpd==="rl"?B===0?"right under":"left under":B===0?"left under":"right under");i.textEmphasis=null}if(i.mra){for(B=0;B<f.length-1;B++)P=f[B].elements.length,P!==0&&f[B].br===!1&&(W=document.createElement("br"),P=f[B].elements[P-1].node,P.parentElement.insertBefore(W,P.nextSibling));i.mra=null}if(i.lp){if(B=i.lp.toUsedLength(i.w,i.h),f!==null){for(W=0;W<f.length;W++)if(P=Math.ceil(B)+"px",G="-"+Math.ceil(B)+"px",f[W].elements.length!==0){H=f[W].elements[f[W].start_elem];var V=f[W].elements[f[W].end_elem];if(H===V){var $=H.node.getBoundingClientRect();if($.width==0||$.height==0)continue}i.ipd==="lr"?(H.node.style.marginLeft=G,H.node.style.paddingLeft=P):i.ipd==="rl"?(H.node.style.paddingRight=P,H.node.style.marginRight=G):i.ipd==="tb"&&(H.node.style.paddingTop=P,H.node.style.marginTop=G),i.ipd==="lr"?(N||(V.node.style.marginRight=G),V.node.style.paddingRight=P):i.ipd==="rl"?(V.node.style.paddingLeft=P,N||(V.node.style.marginLeft=G)):i.ipd==="tb"&&(V.node.style.paddingBottom=P,V.node.style.marginBottom=G)}}i.lp=null}for(B=0;B<f.length;B++)for(W=f[B],P=1;P<W.elements.length;){if(G=W.elements[P-1].node,H=W.elements[P].node,G.tagName==="SPAN"&&H.tagName==="SPAN"&&G._isd_element===H._isd_element)if(G._isd_element){for(G.textContent+=H.textContent,V=0;V<H.style.length;V++)$=H.style[V],(0<=$.indexOf("border")||0<=$.indexOf("padding")||0<=$.indexOf("margin"))&&(G.style[$]=H.style[$]);H.parentElement.removeChild(H),G=!0}else{if((G=i.errorHandler)&&G.error&&G.error("Internal error: HTML span is not linked to a source element; cannot merge spans."))throw"Internal error: HTML span is not linked to a source element; cannot merge spans.";G=!1}else G=!1;G?W.elements.splice(P,1):P++}for(B=[],G=0;G<f.length;G++)for(H=0;H<f[G].elements.length;H++)W=f[G].elements[H].node,(P=v(W,B,!1))&&(W.style.backgroundColor=P);for(W=0;W<B.length;W++)B[W].style.backgroundColor="";if(i.flg){for(W=c(d.getBoundingClientRect(),i),B=W.before,W=W.after,P=Math.sign(W-B),G=0;G<=f.length;G++){if(H=G===0?Math.round(B):G===f.length?Math.round(W):Math.round((f[G-1].after+f[G].before)/2),0<G&&f[G-1])for($=0;$<f[G-1].elements.length;$++){var et=f[G-1].elements[$];V=P*(H-et.after)+"px",i.bpd==="lr"?et.node.style.paddingRight=V:i.bpd==="rl"?et.node.style.paddingLeft=V:i.bpd==="tb"&&(et.node.style.paddingBottom=V)}if(G<f.length)for($=0;$<f[G].elements.length;$++)et=f[G].elements[$],V=P*(et.before-H)+"px",i.bpd==="lr"?et.node.style.paddingLeft=V:i.bpd==="rl"?et.node.style.paddingRight=V:i.bpd==="tb"&&(et.node.style.paddingTop=V)}i.flg=null}}u.kind==="region"&&i.bpd==="tb"&&i.enableRollUp&&0<u.contents.length&&u.styleAttrs[T.byName.displayAlign.qname]==="after"&&(p(i,d,f,null),u=new r(u.id===""?"_":u.id,f),i.currentISDState[u.id]=u,i.previousISDState&&u.id in i.previousISDState&&0<i.previousISDState[u.id].plist.length&&1<u.plist.length&&u.plist[u.plist.length-2].text===i.previousISDState[u.id].plist[i.previousISDState[u.id].plist.length-1].text&&(i=C.firstElementChild,u=u.plist[u.plist.length-1].after-u.plist[u.plist.length-1].before,i.style.bottom="-"+u+"px",i.style.transition="transform 0.4s",i.style.position="relative",i.style.transform="translateY(-"+u+"px)"))}else if(i=i.errorHandler,u="Error processing ISD element kind: "+u.kind,i&&i.error&&i.error(u))throw u}function v(i,d,u){if(i.style.backgroundColor)return u&&!d.includes(i)&&d.push(i),i.style.backgroundColor;if(i.parentElement.nodeName==="SPAN"||i.parentElement.nodeName==="RUBY"||i.parentElement.nodeName==="RBC"||i.parentElement.nodeName==="RTC"||i.parentElement.nodeName==="RT")return v(i.parentElement,d,!0)}function r(i,d){this.id=i,this.plist=d}function c(i,d){var u={before:null,after:null,start:null,end:null};return d.bpd==="tb"?(u.before=i.top,u.after=i.bottom,d.ipd==="lr"?(u.start=i.left,u.end=i.right):(u.start=i.right,u.end=i.left)):d.bpd==="lr"?(u.before=i.left,u.after=i.right,u.start=i.top,u.end=i.bottom):d.bpd==="rl"&&(u.before=i.right,u.after=i.left,u.start=i.top,u.end=i.bottom),u}function p(i,d,u,f){if(d.localName!=="rt"&&d.localName!=="rtc")if(f=d.style.backgroundColor||f,d.childElementCount===0)if(d.localName==="span"||d.localName==="rb"){var C=d.getBoundingClientRect();if(i=c(C,i),!(C=u.length===0)){C=i.before;var B=i.after,W=u[u.length-1].before,P=u[u.length-1].after;C=!(B<P&&C>W||P<=B&&W>=C)}C?u.push({before:i.before,after:i.after,start:i.start,end:i.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1}):(C=Math.sign(i.after-i.before),B=Math.sign(i.end-i.start),0>C*(i.before-u[u.length-1].before)&&(u[u.length-1].before=i.before),0<C*(i.after-u[u.length-1].after)&&(u[u.length-1].after=i.after),0>B*(i.start-u[u.length-1].start)&&(u[u.length-1].start=i.start,u[u.length-1].start_elem=u[u.length-1].elements.length),0<B*(i.end-u[u.length-1].end)&&(u[u.length-1].end=i.end,u[u.length-1].end_elem=u[u.length-1].elements.length)),u[u.length-1].text+=d.textContent,u[u.length-1].elements.push({node:d,bgcolor:f,before:i.before,after:i.after})}else d.localName==="br"&&u.length!==0&&(u[u.length-1].br=!0);else for(d=d.firstChild;d;)d.nodeType===Node.ELEMENT_NODE&&(p(i,d,u,f),d.localName==="ruby"||d.localName==="rtc"?0<u.length&&u[u.length-1].rbc.push(d):d.localName==="span"&&d.style[E]&&d.style[E]!=="none"&&0<u.length&&u[u.length-1].te.push(d)),d=d.nextSibling}function s(i,d,u,f){f.style!=="none"&&(d.style[E]=f.style==="auto"?"filled":f.style+" "+f.symbol,f.position==="before"||f.position==="after")&&(d.style[L]=i.bpd==="tb"?f.position==="before"?"left over":"left under":i.bpd==="rl"?f.position==="before"?"right under":"left under":f.position==="before"?"left under":"right under")}function _(i,d){this.qname=i,this.map=d}w.render=function(i,d,u,f,C,B,W,P,H){f=f||d.clientHeight;var G=C||d.clientWidth;if(i.aspectRatio!==null&&(C=f*i.aspectRatio,C>G?f=Math.round(G/i.aspectRatio):G=C),C=document.createElement("div"),C.style.position="relative",C.style.width=G+"px",C.style.height=f+"px",C.style.margin="auto",C.style.top=0,C.style.bottom=0,C.style.left=0,C.style.right=0,C.style.zIndex=0,u={h:f,w:G,regionH:null,regionW:null,imgResolver:u,displayForcedOnlyMode:B||!1,isd:i,errorHandler:W,previousISDState:P,enableRollUp:H||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null},d.appendChild(C),"contents"in i)for(d=0;d<i.contents.length;d++)h(u,C,i.contents[d],i);return u.currentISDState};var y=[new _("http://www.w3.org/ns/ttml#styling backgroundColor",function(i,d,u,f){f[3]!==0&&(d.style.backgroundColor="rgba("+f[0].toString()+","+f[1].toString()+","+f[2].toString()+","+(f[3]/255).toString()+")")}),new _("http://www.w3.org/ns/ttml#styling color",function(i,d,u,f){d.style.color="rgba("+f[0].toString()+","+f[1].toString()+","+f[2].toString()+","+(f[3]/255).toString()+")"}),new _("http://www.w3.org/ns/ttml#styling direction",function(i,d,u,f){d.style.direction=f}),new _("http://www.w3.org/ns/ttml#styling display",function(i,d,u,f){}),new _("http://www.w3.org/ns/ttml#styling displayAlign",function(i,d,u,f){d.style.display="flex",d.style.flexDirection="column",f==="before"?d.style.justifyContent="flex-start":f==="center"?d.style.justifyContent="center":f==="after"&&(d.style.justifyContent="flex-end")}),new _("http://www.w3.org/ns/ttml#styling extent",function(i,d,u,f){i.regionH=f.h.toUsedLength(i.w,i.h),i.regionW=f.w.toUsedLength(i.w,i.h);var C=f=0;(u=u.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])&&(f=u[0].toUsedLength(i.w,i.h)+u[2].toUsedLength(i.w,i.h),C=u[1].toUsedLength(i.w,i.h)+u[3].toUsedLength(i.w,i.h)),d.style.height=i.regionH-f+"px",d.style.width=i.regionW-C+"px"}),new _("http://www.w3.org/ns/ttml#styling fontFamily",function(i,d,u,f){for(i=[],u=0;u<f.length;u++)f[u]=f[u].trim(),f[u]==="monospaceSerif"?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):f[u]==="proportionalSansSerif"?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):f[u]==="monospace"?i.push("monospace"):f[u]==="sansSerif"?i.push("sans-serif"):f[u]==="serif"?i.push("serif"):f[u]==="monospaceSansSerif"?(i.push("Consolas"),i.push("monospace")):f[u]==="proportionalSerif"?i.push("serif"):i.push(f[u]);if(0<i.length){for(f=[i[0]],u=1;u<i.length;u++)f.indexOf(i[u])==-1&&f.push(i[u]);i=f}d.style.fontFamily=i.join(",")}),new _("http://www.w3.org/ns/ttml#styling shear",function(i,d,u,f){f!==0&&(u=-.9*f,d.style.transform=i.bpd==="tb"?"skewX("+u+"deg)":"skewY("+u+"deg)")}),new _("http://www.w3.org/ns/ttml#styling fontSize",function(i,d,u,f){d.style.fontSize=f.toUsedLength(i.w,i.h)+"px"}),new _("http://www.w3.org/ns/ttml#styling fontStyle",function(i,d,u,f){d.style.fontStyle=f}),new _("http://www.w3.org/ns/ttml#styling fontWeight",function(i,d,u,f){d.style.fontWeight=f}),new _("http://www.w3.org/ns/ttml#styling lineHeight",function(i,d,u,f){d.style.lineHeight=f==="normal"?"normal":f.toUsedLength(i.w,i.h)+"px"}),new _("http://www.w3.org/ns/ttml#styling opacity",function(i,d,u,f){d.style.opacity=f}),new _("http://www.w3.org/ns/ttml#styling origin",function(i,d,u,f){d.style.top=f.h.toUsedLength(i.w,i.h)+"px",d.style.left=f.w.toUsedLength(i.w,i.h)+"px"}),new _("http://www.w3.org/ns/ttml#styling overflow",function(i,d,u,f){d.style.overflow=f}),new _("http://www.w3.org/ns/ttml#styling padding",function(i,d,u,f){u=[],u[0]=f[0].toUsedLength(i.w,i.h)+"px",u[1]=f[3].toUsedLength(i.w,i.h)+"px",u[2]=f[2].toUsedLength(i.w,i.h)+"px",u[3]=f[1].toUsedLength(i.w,i.h)+"px",d.style.padding=u.join(" ")}),new _("http://www.w3.org/ns/ttml#styling position",function(i,d,u,f){d.style.top=f.h.toUsedLength(i.w,i.h)+"px",d.style.left=f.w.toUsedLength(i.w,i.h)+"px"}),new _("http://www.w3.org/ns/ttml#styling rubyAlign",function(i,d,u,f){d.style.rubyAlign=f==="spaceAround"?"space-around":"center"}),new _("http://www.w3.org/ns/ttml#styling rubyPosition",function(i,d,u,f){(f==="before"||f==="after")&&(d.parentElement.style[I]=M?f:i.bpd==="tb"||i.bpd==="rl"?f==="before"?"over":"under":f==="before"?"under":"over")}),new _("http://www.w3.org/ns/ttml#styling showBackground",null),new _("http://www.w3.org/ns/ttml#styling textAlign",function(i,d,u,f){d.style.textAlign=f==="start"?i.ipd==="rl"?"right":"left":f==="end"?i.ipd==="rl"?"left":"right":f}),new _("http://www.w3.org/ns/ttml#styling textDecoration",function(i,d,u,f){d.style.textDecoration=f.join(" ").replace("lineThrough","line-through")}),new _("http://www.w3.org/ns/ttml#styling textOutline",function(i,d,u,f){}),new _("http://www.w3.org/ns/ttml#styling textShadow",function(i,d,u,f){var C=u.styleAttrs[T.byName.textOutline.qname];if(f==="none"&&C==="none")d.style.textShadow="";else{if(u=[],C!=="none"&&(C="rgba("+C.color[0].toString()+","+C.color[1].toString()+","+C.color[2].toString()+","+(C.color[3]/255).toString()+")",u.push("1px 1px 1px "+C),u.push("-1px 1px 1px "+C),u.push("1px -1px 1px "+C),u.push("-1px -1px 1px "+C)),f!=="none")for(C=0;C<f.length;C++)u.push(f[C].x_off.toUsedLength(i.w,i.h)+"px "+f[C].y_off.toUsedLength(i.w,i.h)+"px "+f[C].b_radius.toUsedLength(i.w,i.h)+"px rgba("+f[C].color[0].toString()+","+f[C].color[1].toString()+","+f[C].color[2].toString()+","+(f[C].color[3]/255).toString()+")");d.style.textShadow=u.join(",")}}),new _("http://www.w3.org/ns/ttml#styling textCombine",function(i,d,u,f){d.style.textCombineUpright=f}),new _("http://www.w3.org/ns/ttml#styling textEmphasis",function(i,d,u,f){}),new _("http://www.w3.org/ns/ttml#styling unicodeBidi",function(i,d,u,f){d.style.unicodeBidi=f==="bidiOverride"?"bidi-override":f}),new _("http://www.w3.org/ns/ttml#styling visibility",function(i,d,u,f){d.style.visibility=f}),new _("http://www.w3.org/ns/ttml#styling wrapOption",function(i,d,u,f){d.style.whiteSpace=f==="wrap"?u.space==="preserve"?"pre-wrap":"normal":u.space==="preserve"?"pre":"noWrap"}),new _("http://www.w3.org/ns/ttml#styling writingMode",function(i,d,u,f){f==="lrtb"||f==="lr"||f==="rltb"||f==="rl"?d.style.writingMode="horizontal-tb":f==="tblr"?d.style.writingMode="vertical-lr":(f==="tbrl"||f==="tb")&&(d.style.writingMode="vertical-rl")}),new _("http://www.w3.org/ns/ttml#styling zIndex",function(i,d,u,f){d.style.zIndex=f}),new _("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(i,d,u,f){i.displayForcedOnlyMode&&f===!1&&(d.style.visibility="hidden")})];for(w=0;w<y.length;w++);var M="webkitRubyPosition"in window.getComputedStyle(document.documentElement),I=M?"webkitRubyPosition":"rubyPosition",E="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",L="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"})(typeof j>"u"?this.imscHTML={}:j,typeof imscNames>"u"?b("./names"):imscNames,typeof imscStyles>"u"?b("./styles"):imscStyles,typeof imscUtils>"u"?b("./utils"):imscUtils)},{"./names":31,"./styles":32,"./utils":33}],29:[function(b,U,j){(function(N,w,l,T){function h(y,M,I,E,L,i,d,u,f){if(M<d.begin||M>=d.end||(i="regionID"in d&&d.regionID!==""?d.regionID:i,L!==null&&i!==I.id&&(!("contents"in d)||"contents"in d&&d.contents.length===0||i!=="")))return null;var C=new s(d);if("sets"in d)for(var B=0;B<d.sets.length;B++)M<d.sets[B].begin||M>=d.sets[B].end||(C.styleAttrs[d.sets[B].qname]=d.sets[B].value);B={};for(var W in C.styleAttrs)if(C.styleAttrs.hasOwnProperty(W)&&(B[W]=!0,C.kind==="region"&&W===l.byName.writingMode.qname&&!(l.byName.direction.qname in C.styleAttrs))){var P=C.styleAttrs[W];P==="lrtb"||P==="lr"?C.styleAttrs[l.byName.direction.qname]="ltr":(P==="rltb"||P==="rl")&&(C.styleAttrs[l.byName.direction.qname]="rtl")}if(L!==null)for(W=0;W<l.all.length;W++)if(P=l.all[W],P.qname===l.byName.textDecoration.qname){var H=L.styleAttrs[P.qname],G=C.styleAttrs[P.qname],V=[];G===void 0?V=H:G.indexOf("none")===-1?((G.indexOf("noUnderline")===-1&&H.indexOf("underline")!==-1||G.indexOf("underline")!==-1)&&V.push("underline"),(G.indexOf("noLineThrough")===-1&&H.indexOf("lineThrough")!==-1||G.indexOf("lineThrough")!==-1)&&V.push("lineThrough"),(G.indexOf("noOverline")===-1&&H.indexOf("overline")!==-1||G.indexOf("overline")!==-1)&&V.push("overline")):V.push("none"),C.styleAttrs[P.qname]=V}else P.qname!==l.byName.fontSize.qname||P.qname in C.styleAttrs||C.kind!=="span"||C.styleAttrs[l.byName.ruby.qname]!=="textContainer"?P.qname!==l.byName.fontSize.qname||P.qname in C.styleAttrs||C.kind!=="span"||C.styleAttrs[l.byName.ruby.qname]!=="text"?P.inherit&&P.qname in L.styleAttrs&&!(P.qname in C.styleAttrs)&&(C.styleAttrs[P.qname]=L.styleAttrs[P.qname]):(H=L.styleAttrs[l.byName.fontSize.qname],C.styleAttrs[P.qname]=L.styleAttrs[l.byName.ruby.qname]==="textContainer"?H:new T.ComputedLength(.5*H.rw,.5*H.rh)):(H=L.styleAttrs[l.byName.fontSize.qname],C.styleAttrs[P.qname]=new T.ComputedLength(.5*H.rw,.5*H.rh));for(W=0;W<l.all.length;W++)if(P=l.all[W],!(P.qname in C.styleAttrs||P.qname===l.byName.position.qname&&l.byName.origin.qname in C.styleAttrs||P.qname===l.byName.origin.qname&&l.byName.position.qname in C.styleAttrs)&&(H=y.head.styling.initials[P.qname]||P.initial,H!==null&&(C.kind==="region"||P.inherit===!1&&H!==null))){if(H=P.parse(H),H!==null)C.styleAttrs[P.qname]=H,B[P.qname]=!0;else if(P="Invalid initial value for '"+P.qname+"' on element '"+C.kind,u&&u.error&&u.error(P))throw P}for(W=0;W<l.all.length;W++)if(P=l.all[W],P.qname in B&&P.compute!==null){if(H=P.compute(y,L,C,C.styleAttrs[P.qname],f),H!==null)C.styleAttrs[P.qname]=H;else if(C.styleAttrs[P.qname]=P.compute(y,L,C,P.parse(P.initial),f),P="Style '"+P.qname+"' on element '"+C.kind+"' cannot be computed",u&&u.error&&u.error(P))throw P}if(C.styleAttrs[l.byName.display.qname]==="none")return null;for(B=null,L===null?B=E===null?[]:[E]:("contents"in d)&&(B=d.contents),L=0;B!==null&&L<B.length;L++)d=h(y,M,I,E,C,i,B[L],u,f),d!==null&&C.contents.push(d.element);for(var $ in C.styleAttrs)C.styleAttrs.hasOwnProperty($)&&(y=!1,C.kind==="span"&&(M=C.styleAttrs[l.byName.ruby.qname],(y=(M==="container"||M==="textContainer"||M==="baseContainer")&&_.indexOf($)!==-1)||(y=M!=="container"&&$===l.byName.rubyAlign.qname),y||(y=!(M==="textContainer"||M==="text")&&$===l.byName.rubyPosition.qname)),y||(M=l.byQName[$],"applies"in M&&(y=M.applies.indexOf(C.kind)===-1)),y&&delete C.styleAttrs[$]);return $=C.styleAttrs[l.byName.ruby.qname],(C.kind==="p"||C.kind==="span"&&($==="textContainer"||$==="text"))&&($=[],r(C,$),v($),c(C)),C.kind==="div"&&l.byName.backgroundImage.qname in C.styleAttrs||C.kind==="br"||C.kind==="image"||"contents"in C&&0<C.contents.length||C.kind==="span"&&C.text!==null||C.kind==="region"&&C.styleAttrs[l.byName.showBackground.qname]==="always"?{region_id:i,element:C}:null}function v(y){function M(d){return d.kind==="br"||/[\r\n\t ]$/.test(d.text)}function I(d){return d.kind==="br"||d.space==="preserve"&&/^[\r\n]/.test(d.text)}for(var E,L=0;L<y.length;)if(E=y[L],E.kind==="br"||E.space==="preserve")L++;else{var i=E.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(i)&&(L===0||M(y[L-1]))&&(i=i.substring(1)),E.text=i,i.length===0?y.splice(L,1):L++}for(L=0;L<y.length;L++)E=y[L],E.kind==="br"||E.space==="preserve"?L++:/[ ]$/.test(E.text)&&(L===y.length-1||I(y[L+1]))&&(E.text=E.text.slice(0,-1))}function r(y,M){if("contents"in y)for(var I=0;I<y.contents.length;I++){var E=y.contents[I],L=E.styleAttrs[l.byName.ruby.qname];(E.kind!=="span"||L!=="textContainer"&&L!=="text")&&("contents"in E?r(E,M):(E.kind==="span"&&E.text.length!==0||E.kind==="br")&&M.push(E))}}function c(y){if(y.kind==="br")return!1;if("text"in y)return y.text.length===0;if("contents"in y){for(var M=y.contents.length;M--;)c(y.contents[M])&&y.contents.splice(M,1);return y.contents.length===0}}function p(y){this.contents=[],this.aspectRatio=y.aspectRatio,this.lang=y.lang}function s(y){this.kind=y.kind||"region",this.lang=y.lang,y.id&&(this.id=y.id),this.styleAttrs={};for(var M in y.styleAttrs)y.styleAttrs.hasOwnProperty(M)&&(this.styleAttrs[M]=y.styleAttrs[M]);"src"in y&&(this.src=y.src),"type"in y&&(this.type=y.type),"text"in y?this.text=y.text:(this.kind==="region"||"contents"in y)&&(this.contents=[]),"space"in y&&(this.space=y.space)}N.generateISD=function(y,M,I){function E(G,V){function $(t){return!(G<t.begin||G>=t.end)}if(V.contents){var et={},it;for(it in V)V.hasOwnProperty(it)&&(et[it]=V[it]);return et.contents=[],V.contents.filter($).forEach(function(t){t=E(G,t),t.regionID&&(u[t.regionID]=!0),t!==null&&et.contents.push(t)}),et}return V}var L=new p(y),i={},d={},u={};d=y.head.styling.initials[l.byName.showBackground.qname];var f=y.head.styling.initials[l.byName.backgroundColor.qname];for(H in y.head.layout.regions)if(y.head.layout.regions.hasOwnProperty(H)){var C=y.head.layout.regions[H],B=C.styleAttrs[l.byName.showBackground.qname]||d,W=C.styleAttrs[l.byName.backgroundColor.qname]||f;u[C.id]=(B==="always"||B===void 0)&&W!==void 0&&!(M<C.begin||M>=C.end)}y.body&&y.body.regionID&&(u[y.body.regionID]=!0),d=y.body!==null?E(M,y.body):null,u[""]!==void 0&&(u[""]=!0);for(var P in u)if(u[P]){var H=h(y,M,y.head.layout.regions[P],d,null,"",y.head.layout.regions[P],I,i);H!==null&&L.contents.push(H.element)}return L};var _=[l.byName.color.qname,l.byName.textCombine.qname,l.byName.textDecoration.qname,l.byName.textEmphasis.qname,l.byName.textOutline.qname,l.byName.textShadow.qname]})(typeof j>"u"?this.imscISD={}:j,typeof imscNames>"u"?b("./names"):imscNames,typeof imscStyles>"u"?b("./styles"):imscStyles,typeof imscUtils>"u"?b("./utils"):imscUtils)},{"./names":31,"./styles":32,"./utils":33}],30:[function(b,U,j){j.generateISD=b("./isd").generateISD,j.fromXML=b("./doc").fromXML,j.renderHTML=b("./html").render},{"./doc":27,"./html":28,"./isd":29}],31:[function(b,U,j){b=typeof j>"u"?this.imscNames={}:j,b.ns_tt="http://www.w3.org/ns/ttml",b.ns_tts="http://www.w3.org/ns/ttml#styling",b.ns_ttp="http://www.w3.org/ns/ttml#parameter",b.ns_xml="http://www.w3.org/XML/1998/namespace",b.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",b.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",b.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",b.ns_ebutts="urn:ebu:tt:style"},{}],32:[function(b,U,j){(function(N,w,l){function T(r,c,p,s,_,y,M,I){this.name=c,this.ns=r,this.qname=r+" "+c,this.inherit=_,this.animatable=y,this.initial=p,this.applies=s,this.parse=M,this.compute=I}N.all=[new T(w.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,l.parseColor,null),new T(w.ns_tts,"color","white",["span"],!0,!0,l.parseColor,null),new T(w.ns_tts,"direction","ltr",["p","span"],!0,!0,function(r){return r},null),new T(w.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(r){return r},null),new T(w.ns_tts,"displayAlign","before",["region"],!1,!0,function(r){return r},null),new T(w.ns_tts,"extent","auto",["tt","region"],!1,!0,function(r){if(r==="auto")return r;var c=r.split(" ");return c.length!==2?null:(r=l.parseLength(c[0]),(c=l.parseLength(c[1]))&&r?{h:c,w:r}:null)},function(r,c,p,s,_){if(s==="auto")c=new l.ComputedLength(0,1);else if(c=l.toComputedLength(s.h.value,s.h.unit,null,r.dimensions.h,null,r.pxLength.h),c===null)return null;if(s==="auto")r=new l.ComputedLength(1,0);else if(r=l.toComputedLength(s.w.value,s.w.unit,null,r.dimensions.w,null,r.pxLength.w),r===null)return null;return{h:c,w:r}}),new T(w.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(r){r=r.split(",");for(var c=[],p=0;p<r.length;p++)r[p]=r[p].trim(),r[p].charAt(0)!=="'"&&r[p].charAt(0)!=='"'&&r[p]==="default"?c.push("monospaceSerif"):c.push(r[p]);return c},null),new T(w.ns_tts,"shear","0%",["p"],!0,!0,l.parseLength,function(r,c,p,s){if(s.unit==="%")r=100<Math.abs(s.value)?100*Math.sign(s.value):s.value;else return null;return r}),new T(w.ns_tts,"fontSize","1c",["span","p"],!0,!0,l.parseLength,function(r,c,p,s,_){return l.toComputedLength(s.value,s.unit,c!==null?c.styleAttrs[N.byName.fontSize.qname]:r.cellLength.h,c!==null?c.styleAttrs[N.byName.fontSize.qname]:r.cellLength.h,r.cellLength.h,r.pxLength.h)}),new T(w.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(r){return r},null),new T(w.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(r){return r},null),new T(w.ns_tts,"lineHeight","normal",["p"],!0,!0,function(r){return r==="normal"?r:l.parseLength(r)},function(r,c,p,s,_){if(s==="normal")r=s;else if(r=l.toComputedLength(s.value,s.unit,p.styleAttrs[N.byName.fontSize.qname],p.styleAttrs[N.byName.fontSize.qname],r.cellLength.h,r.pxLength.h),r===null)return null;return r}),new T(w.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new T(w.ns_tts,"origin","auto",["region"],!1,!0,function(r){if(r==="auto")return r;var c=r.split(" ");return c.length!==2?null:(r=l.parseLength(c[0]),(c=l.parseLength(c[1]))&&r?{h:c,w:r}:null)},function(r,c,p,s,_){if(s==="auto")c=new l.ComputedLength(0,0);else if(c=l.toComputedLength(s.h.value,s.h.unit,null,r.dimensions.h,null,r.pxLength.h),c===null)return null;if(s==="auto")r=new l.ComputedLength(0,0);else if(r=l.toComputedLength(s.w.value,s.w.unit,null,r.dimensions.w,null,r.pxLength.w),r===null)return null;return{h:c,w:r}}),new T(w.ns_tts,"overflow","hidden",["region"],!1,!0,function(r){return r},null),new T(w.ns_tts,"padding","0px",["region"],!1,!0,function(r){if(r=r.split(" "),4<r.length)return null;for(var c=[],p=0;p<r.length;p++){var s=l.parseLength(r[p]);if(!s)return null;c.push(s)}return c},function(r,c,p,s,_){if(s.length===1)c=[s[0],s[0],s[0],s[0]];else if(s.length===2)c=[s[0],s[1],s[0],s[1]];else if(s.length===3)c=[s[0],s[1],s[2],s[1]];else if(s.length===4)c=[s[0],s[1],s[2],s[3]];else return null;if(s=p.styleAttrs[N.byName.writingMode.qname],s==="lrtb"||s==="lr")c=[c[0],c[3],c[2],c[1]];else if(s==="rltb"||s==="rl")c=[c[0],c[1],c[2],c[3]];else if(s==="tblr")c=[c[3],c[0],c[1],c[2]];else if(s==="tbrl"||s==="tb")c=[c[3],c[2],c[1],c[0]];else return null;for(s=[],_=0;_<c.length;_++)if(c[_].value===0)s[_]=new l.ComputedLength(0,0);else if(s[_]=l.toComputedLength(c[_].value,c[_].unit,p.styleAttrs[N.byName.fontSize.qname],_===0||_===2?p.styleAttrs[N.byName.extent.qname].h:p.styleAttrs[N.byName.extent.qname].w,_===0||_===2?r.cellLength.h:r.cellLength.w,_===0||_===2?r.pxLength.h:r.pxLength.w),s[_]===null)return null;return s}),new T(w.ns_tts,"position","top left",["region"],!1,!0,function(r){return l.parsePosition(r)},function(r,c,p,s){if(c=l.toComputedLength(s.v.offset.value,s.v.offset.unit,null,new l.ComputedLength(-p.styleAttrs[N.byName.extent.qname].h.rw,r.dimensions.h.rh-p.styleAttrs[N.byName.extent.qname].h.rh),null,r.pxLength.h),c===null)return null;s.v.edge==="bottom"&&(c=new l.ComputedLength(-c.rw-p.styleAttrs[N.byName.extent.qname].h.rw,r.dimensions.h.rh-c.rh-p.styleAttrs[N.byName.extent.qname].h.rh));var _=l.toComputedLength(s.h.offset.value,s.h.offset.unit,null,new l.ComputedLength(r.dimensions.w.rw-p.styleAttrs[N.byName.extent.qname].w.rw,-p.styleAttrs[N.byName.extent.qname].w.rh),null,r.pxLength.w);return c===null?null:(s.h.edge==="right"&&(_=new l.ComputedLength(r.dimensions.w.rw-_.rw-p.styleAttrs[N.byName.extent.qname].w.rw,-_.rh-p.styleAttrs[N.byName.extent.qname].w.rh)),{h:c,w:_})}),new T(w.ns_tts,"ruby","none",["span"],!1,!0,function(r){return r},null),new T(w.ns_tts,"rubyAlign","center",["span"],!0,!0,function(r){return r!=="center"&&r!=="spaceAround"?null:r},null),new T(w.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(r){return r},null),new T(w.ns_tts,"rubyReserve","none",["p"],!0,!0,function(r){var c=r.split(" ");if(r=[null,null],c.length===0||2<c.length||c[0]!=="none"&&c[0]!=="both"&&c[0]!=="after"&&c[0]!=="before"&&c[0]!=="outside")return null;if(r[0]=c[0],c.length===2&&c[0]!=="none")if(c=l.parseLength(c[1]))r[1]=c;else return null;return r},function(r,c,p,s,_){return s[0]==="none"?s:(r=s[1]===null?new l.ComputedLength(.5*p.styleAttrs[N.byName.fontSize.qname].rw,.5*p.styleAttrs[N.byName.fontSize.qname].rh):l.toComputedLength(s[1].value,s[1].unit,p.styleAttrs[N.byName.fontSize.qname],p.styleAttrs[N.byName.fontSize.qname],r.cellLength.h,r.pxLength.h),r===null?null:[s[0],r])}),new T(w.ns_tts,"showBackground","always",["region"],!1,!0,function(r){return r},null),new T(w.ns_tts,"textAlign","start",["p"],!0,!0,function(r){return r},function(r,c,p,s,_){return s==="left"?"start":s==="right"?"end":s}),new T(w.ns_tts,"textCombine","none",["span"],!0,!0,function(r){return r==="none"||r==="all"?r:null},null),new T(w.ns_tts,"textDecoration","none",["span"],!0,!0,function(r){return r.split(" ")},null),new T(w.ns_tts,"textEmphasis","none",["span"],!0,!0,function(r){r=r.split(" ");for(var c={style:null,symbol:null,color:null,position:null},p=0;p<r.length;p++)if(r[p]==="none"||r[p]==="auto")c.style=r[p];else if(r[p]==="filled"||r[p]==="open")c.style=r[p];else if(r[p]==="circle"||r[p]==="dot"||r[p]==="sesame")c.symbol=r[p];else if(r[p]==="current")c.color=r[p];else if(r[p]==="outside"||r[p]==="before"||r[p]==="after")c.position=r[p];else if(c.color=l.parseColor(r[p]),c.color===null)return null;return c.style==null&&c.symbol==null?c.style="auto":(c.symbol=c.symbol||"circle",c.style=c.style||"filled"),c.position=c.position||"outside",c.color=c.color||"current",c},null),new T(w.ns_tts,"textOutline","none",["span"],!0,!0,function(r){if(r==="none")return r;var c={};if(r=r.split(" "),r.length===0||2<r.length)return null;var p=l.parseColor(r[0]);return c.color=p,p!==null&&r.shift(),r.length!==1||(r=l.parseLength(r[0]),!r)?null:(c.thickness=r,c)},function(r,c,p,s,_){return s==="none"?s:(c={},c.color=s.color===null?p.styleAttrs[N.byName.color.qname]:s.color,c.thickness=l.toComputedLength(s.thickness.value,s.thickness.unit,p.styleAttrs[N.byName.fontSize.qname],p.styleAttrs[N.byName.fontSize.qname],r.cellLength.h,r.pxLength.h),c.thickness===null?null:c)}),new T(w.ns_tts,"textShadow","none",["span"],!0,!0,l.parseTextShadow,function(r,c,p,s){if(s==="none")return s;c=[];for(var _=0;_<s.length;_++){var y={};if(y.x_off=l.toComputedLength(s[_][0].value,s[_][0].unit,null,p.styleAttrs[N.byName.fontSize.qname],null,r.pxLength.w),y.x_off===null||(y.y_off=l.toComputedLength(s[_][1].value,s[_][1].unit,null,p.styleAttrs[N.byName.fontSize.qname],null,r.pxLength.h),y.y_off===null))return null;if(s[_][2]===null)y.b_radius=0;else if(y.b_radius=l.toComputedLength(s[_][2].value,s[_][2].unit,null,p.styleAttrs[N.byName.fontSize.qname],null,r.pxLength.h),y.b_radius===null)return null;y.color=s[_][3]===null?p.styleAttrs[N.byName.color.qname]:s[_][3],c.push(y)}return c}),new T(w.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(r){return r},null),new T(w.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(r){return r},null),new T(w.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(r){return r},null),new T(w.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(r){return r},null),new T(w.ns_tts,"zIndex","auto",["region"],!1,!0,function(r){return r!=="auto"&&(r=parseInt(r),isNaN(r)&&(r=null)),r},null),new T(w.ns_ebutts,"linePadding","0c",["p"],!0,!1,l.parseLength,function(r,c,p,s,_){return l.toComputedLength(s.value,s.unit,null,null,r.cellLength.w,null)}),new T(w.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(r){return r},null),new T(w.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(r){return r},null),new T(w.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(r){return r==="true"},null),new T(w.ns_itts,"fillLineGap","false",["p"],!0,!0,function(r){return r==="true"},null)],N.byQName={};for(var h in N.all)N.byQName[N.all[h].qname]=N.all[h];N.byName={};for(var v in N.all)N.byName[N.all[v].name]=N.all[v]})(typeof j>"u"?this.imscStyles={}:j,typeof imscNames>"u"?b("./names"):imscNames,typeof imscUtils>"u"?b("./utils"):imscUtils)},{"./names":31,"./utils":33}],33:[function(b,U,j){(function(N){var w=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,l=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,T=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,h={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};N.parseColor=function(r){var c,p=null,s=h[r.toLowerCase()];return s!==void 0?p=s:(c=w.exec(r))!==null?p=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),c[4]!==void 0?parseInt(c[4],16):255]:(c=l.exec(r))!==null?p=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),255]:(c=T.exec(r))!==null&&(p=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])]),p};var v=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;N.parseLength=function(r){var c,p=null;return(c=v.exec(r))!==null&&(p={value:parseFloat(c[1]),unit:c[2]}),p},N.parseTextShadow=function(r){r=r.match(/([^\(,\)]|\([^\)]+\))+/g);for(var c=[],p=0;p<r.length;p++){var s=r[p].split(" ");if(s.length===1&&s[0]==="none")return"none";if(1<s.length&&5>s.length){var _=[null,null,null,null],y=N.parseLength(s.shift());if(y===null||(_[0]=y,y=N.parseLength(s.shift()),y===null))return null;if(_[1]=y,s.length!==0&&(y=N.parseLength(s[0]),y!==null&&(_[2]=y,s.shift()),s.length!==0)){if(s=N.parseColor(s[0]),s===null)return null;_[3]=s}c.push(_)}}return c},N.parsePosition=function(r){r=r.split(" ");var c=function(M){return M==="center"||M==="left"||M==="top"||M==="bottom"||M==="right"};if(4<r.length)return null;for(var p=0;p<r.length;p++)if(!c(r[p])){var s=N.parseLength(r[p]);if(s===null)return null;r[p]=s}for(p={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},s=0;s<r.length;){var _=r[s++];if(c(_)){var y={value:0,unit:"%"};r.length!==2&&s<r.length&&!c(r[s])&&(y=r[s++]),_==="right"?(p.h.edge=_,p.h.offset=y):_==="bottom"?(p.v.edge=_,p.v.offset=y):_==="left"?p.h.offset=y:_==="top"&&(p.v.offset=y)}else if(r.length===1||r.length===2)s===1?p.h.offset=_:p.v.offset=_;else return null}return p},N.ComputedLength=function(r,c){this.rw=r,this.rh=c},N.ComputedLength.prototype.toUsedLength=function(r,c){return r*this.rw+c*this.rh},N.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},N.toComputedLength=function(r,c,p,s,_,y){return c==="%"&&s?new N.ComputedLength(s.rw*r/100,s.rh*r/100):c==="em"&&p?new N.ComputedLength(p.rw*r,p.rh*r):c==="c"&&_?new N.ComputedLength(r*_.rw,r*_.rh):c==="px"&&y?new N.ComputedLength(r*y.rw,r*y.rh):c==="rh"?new N.ComputedLength(0,r/100):c==="rw"?new N.ComputedLength(r/100,0):null}})(typeof j>"u"?this.imscUtils={}:j)},{}]},{},[30])(30)})})(ht);var pt=ht.exports;const mt=dt(pt),yt=ct({__proto__:null,default:mt},[pt]);export{yt as i};
