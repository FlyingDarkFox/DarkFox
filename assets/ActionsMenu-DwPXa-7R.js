import{o as S,F as b,G as C,t as k,h as $,H as M,k as l,i as _,c as T,I as v,J as y,s as e,D as x,y as g,$ as m,p as w,K as L}from"./index-wmVoKqK-.js";var N=k("<li><i class=ri-play-list-add-line></i><select tabindex=2 id=collectionSelector><option>Add To</option><option value=+cl>Create New Collection</option><option value=favorites>Favorites</option><option value=listenLater>Listen Later");function A(a){return S(()=>{const s=Object.keys($());for(const c of s)M.includes(c)||b(c)}),(()=>{var s=N(),c=s.firstChild,d=c.nextSibling;return d.addEventListener("change",p=>{var f;const r=p.target;let t;r.value&&(r.value==="+cl"?(t=(f=prompt("Collection Title"))==null?void 0:f.trim(),t&&b(t)):t=r.value,t&&C(t,a.collection),a.close(),r.selectedIndex=0)}),s})()}var F=k("<ul><li tabindex=0><i class=ri-skip-forward-line></i>Play Next</li><li tabindex=1><i class=ri-list-check-2></i>Enqueue</li><li tabindex=3><i class=ri-radio-line></i>Start Radio</li><li tabindex=4><i class=ri-download-2-fill></i>Download</li><li tabindex=5><i class=ri-user-line></i>View Channel</li><li tabindex=6><i class=ri-youtube-line></i>Watch on YouTube</li><li tabindex=7><i class=ri-bug-line></i>Stats For Nerds");function o(){v.close(),history.back()}v.onclick=o;function j(){return(()=>{var a=F(),s=a.firstChild,c=s.nextSibling,d=c.nextSibling,p=d.nextSibling,r=p.nextSibling,t=r.nextSibling,f=t.nextSibling;return l(a,"click",i=>i.stopPropagation()),l(s,"click",()=>{y(e.actionsMenu,!0),o()}),l(c,"click",()=>{y(e.actionsMenu),o()}),_(a,T(A,{get collection(){return e.actionsMenu},close:o}),d),l(d,"click",async()=>{o(),x("/playlists/RD"+e.actionsMenu.id,!0)}),l(p,"click",async()=>{o();const i="https://flyingdarkfox.netlify.app/",n="https://youtu.be/"+e.actionsMenu.id;g.showModal(),fetch(i,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:n,isAudioOnly:!0,aFormat:e.downloadFormat,filenamePattern:"basic"})}).then(u=>u.json()).then(u=>{const h=m("a");h.href=u.url,h.click()}).catch(u=>w(u)).finally(()=>g.close())}),l(r,"click",()=>{o();const i=e.actionsMenu;e.list.name=i.author.endsWith("- Topic")?"Artist - "+i.author.replace("- Topic",""):"",L.firstElementChild.dataset.state=" "+i.author,x(i.channelUrl)}),l(t,"click",()=>{open("https://youtu.be/"+e.actionsMenu.id)}),l(f,"click",()=>{o();const i=location.pathname==="/"?e.player.data:e.actionsMenu,n=m("dialog");n.className="debug",n.textContent=JSON.stringify(i,null,4),document.body.appendChild(n),n.showModal(),n.onclick=function(){n.close(),n.remove()}}),a})()}export{j as default};
